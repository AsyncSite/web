// src/pages/TecoTecoPage.tsx - ìµœì¢… ì™„ì„±ë³¸
import React, { useState, useEffect, useRef, lazy, Suspense } from 'react';
import { TemplateHeader } from '../components/layout';
import { Footer } from '../components/layout';
import './TecoTecoPage.css';
import { useInView } from 'react-intersection-observer'; // npm install react-intersection-observer

// ===========================
// 1. ì¸í„°í˜ì´ìŠ¤ ì •ì˜
// ===========================
interface Contributor {
    name: string;
    githubId: string;
    imageUrl?: string;
}

interface Review {
    name: string;
    attendCount: number;
    timeAgo: string;
    title: string;
    content: string;
    emojis: string[];
    likes: number;
}

interface FAQItem {
    id: number;
    question: string;
    answer: string;
}

interface StepContent {
    label: string;
    title: string;
    description: string;
    image: string;
}

interface Activity {
    id: number;
    type: 'solve' | 'review' | 'join' | 'milestone';
    user: string;
    content: string;
    time: string;
    icon: string;
}

interface GrowthMetric {
    label: string;
    value: number;
    unit: string;
    trend: number;
    icon: string;
}

interface MemberStory {
    id: number;
    name: string;
    role: string;
    company?: string;
    beforeAfter: {
        before: string;
        after: string;
    };
    quote: string;
    duration: string;
    achievements: string[];
    profileImage?: string;
}

interface AlgorithmLevel {
    id: string;
    title: string;
    description: string;
    examples: string[];
    difficulty: 'beginner' | 'intermediate' | 'advanced';
    icon: string;
}

interface WeeklySchedule {
    week: number;
    topic: string;
    keyPoints: string[];
    problemCount: number;
    difficulty: string;
}

interface CodeReviewSample {
    id: number;
    title: string;
    originalCode: string;
    reviewedCode: string;
    comments: {
        line: number;
        comment: string;
        author: string;
    }[];
}

// ===========================
// 2. ë°ì´í„° ì •ì˜
// ===========================
const tecotecoMembers: Contributor[] = [
    {
        name: "renechoi",
        githubId: "renechoi",
        imageUrl: process.env.PUBLIC_URL + '/images/face/rene.png'
    },
    {
        name: "kdelay",
        githubId: "kdelay",
        imageUrl: process.env.PUBLIC_URL + '/images/face/kdelay.png'
    },
    {
        name: "vvoohhee",
        githubId: "vvoohhee",
        imageUrl: process.env.PUBLIC_URL + '/images/face/vvoohhee.png'
    },
    {
        name: "KrongDev",
        githubId: "KrongDev",
        imageUrl: 'https://avatars.githubusercontent.com/u/138358867?s=40&v=4'
    },
    {
        name: "who's next?",
        githubId: "your-next-profile",
        imageUrl: process.env.PUBLIC_URL + '/images/face/another.png'
    }
];

const tecotecoKeywords: string[] = [
    "ğŸ˜Œ í¸ì•ˆí•œ ë¶„ìœ„ê¸°", "ğŸ’¥ ì‚¬ê³ ì˜ í™•ì¥", "ğŸ¤— ë°°ë ¤ì™• ë©¤ë²„",
    "ğŸ¥³ ì¦ê±°ìš´ ë¶„ìœ„ê¸°", "ğŸ“ ê¼¼ê¼¼í•œ ì½”ë“œ ë¦¬ë·°", "ğŸ‘©â€ğŸ’» ì‹¤ì „ ì½”ë”©",
    "ğŸ§  ë…¼ë¦¬ì  ì‚¬ê³ ë ¥", "ğŸ—£ï¸ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì—­ëŸ‰", "ğŸ¤– AI í™œìš©",
    "ğŸŒ± í•¨ê»˜ ì„±ì¥"
];

const tecotecoReviews: Review[] = [
    {
        name: "ìµëª…1",
        attendCount: 3,
        timeAgo: "6ë‹¬ ì „",
        title: "ì¸ìƒì˜ ì˜ë¯¸",
        content: "ëˆ„ê°€ ì‹œí‚¨ê²ƒë„ ..ë¶€ìê°€ ë˜ëŠ” ê²ƒë„ ì•„ë‹Œë° ì½”ë”©í…ŒìŠ¤íŠ¸ ë¬¸ì œë¥¼ í’€ê³  ë°”ìœ ì¼ìƒì„ íƒˆíƒˆ í„¸ì–´ ì§„ì§€í•œ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆˆ ì†Œì¤‘í•œ ê²½í—˜",
        emojis: ["ğŸ˜ƒ", "âœ¨", "ğŸ”¥"],
        likes: 2,
    },
    {
        name: "ìµëª…2",
        attendCount: 10,
        timeAgo: "2ë…„ ì „",
        title: "Better together !",
        content: "í˜¼ìì„œëŠ” ì—„ë‘ë„ ëª» ëƒˆë˜ ì–´ë ¤ìš´ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë“¤! í…Œì½”í…Œì½” ëª¨ì„ì—ì„œ í•¨ê»˜ ê³ ë¯¼í•˜ê³  í•´ê²°í•˜ë©° ì™„ë…í•˜ëŠ” ë¿Œë“¯í•¨ì„ ëŠê¼ˆìŠµë‹ˆë‹¤. í•¨ê»˜ë¼ë©´ ìš°ë¦° í•´ë‚¼ ìˆ˜ ìˆì–´ìš”!",
        emojis: ["ğŸ§¡", "ğŸ˜", "ğŸ˜ƒ"],
        likes: 1,
    },
    {
        name: "ìµëª…3",
        attendCount: 8,
        timeAgo: "1ë…„ ì „",
        title: "ë§ì€ ê²ƒë“¤ì„ ë°°ìš´ ì‹œê°„ì´ì—ˆìŠµë‹ˆë‹¤!",
        content: "ìš´ì´ ì¢‹ê²Œ ì¢‹ì€ ë¬¸ì œ, ì—´ì •ì ì¸ ë©¤ë²„, ê·¸ë¦¬ê³  ë§ì€ ê²ƒì„ ë°°ìš¸ ìˆ˜ ìˆëŠ” ë™ë£Œë“¤ì´ ìˆëŠ” ëª¨ì„ì— ì°¸ì—¬í•˜ê²Œ ë¼ì„œ ì •ë§ ì˜ë¯¸ ìˆëŠ” ì‹œê°„ì´ì—ˆìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤ :)",
        emojis: ["â˜ºï¸", "ğŸ‘", "ğŸ’¡"],
        likes: 1,
    },
];

const tecotecoFaqs: FAQItem[] = [
    {
        id: 1,
        question: 'í…Œì½”í…Œì½”ëŠ” ì–´ë–¤ ìŠ¤í„°ë””ì¸ê°€ìš”?',
        answer: 'í…Œì½”í…Œì½”ëŠ” ì½”ë”© í…ŒìŠ¤íŠ¸ ì™„ì „ ì •ë³µì„ ëª©í‘œë¡œ í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë””ì…ë‹ˆë‹¤. ë‹¨ìˆœíˆ ë¬¸ì œë¥¼ í‘¸ëŠ” ê²ƒì„ ë„˜ì–´, ë…¼ë¦¬ì  ì‚¬ê³ ë ¥ê³¼ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì—­ëŸ‰ ê°•í™”ë¥¼ ì§€í–¥í•©ë‹ˆë‹¤.'
    },
    {
        id: 2,
        question: 'ëª¨ì„ì€ ì–¸ì œ, ì–´ë””ì„œ ì§„í–‰ë˜ë‚˜ìš”?',
        answer: 'ë§¤ì£¼ ê¸ˆìš”ì¼ ì €ë… 7:30 ~ 9:30ì— ê°•ë‚¨ì—­ ì¸ê·¼ ìŠ¤í„°ë””ë£¸ì—ì„œ ì˜¤í”„ë¼ì¸ ëª¨ì„ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì§„í–‰ë©ë‹ˆë‹¤. ìƒí™©ì— ë”°ë¼ ì˜¨ë¼ì¸(Discord)ìœ¼ë¡œ ì „í™˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
    },
    {
        id: 3,
        question: 'ìŠ¤í„°ë”” ë¹„ìš©ì€ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?',
        answer: 'ìŠ¤í„°ë””ë£¸ ëŒ€ê´€ë£ŒëŠ” ì°¸ì„ìë¼ë¦¬ N/1ë¡œ ì •ì‚°í•©ë‹ˆë‹¤. ë³„ë„ì˜ íšŒë¹„ë‚˜ ë©¤ë²„ì‹­ ë¹„ìš©ì€ ì—†ìŠµë‹ˆë‹¤.'
    },
    {
        id: 4,
        question: 'ì°¸ì—¬í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?',
        answer: 'í˜„ì¬ëŠ” ê³µì‹ ëª¨ì§‘ì€ ì§„í–‰í•˜ê³  ìˆì§€ ì•Šì•„ìš”. ê´€ì‹¬ ìˆìœ¼ì‹  ë¶„ë“¤ì€ @renechoiì—ê²Œ ì»¤í”¼ì±—ì„ ìš”ì²­í•´ì£¼ì‹œë©´ ì°¸ì—¬ ë°©ë²•ì„ ì•ˆë‚´í•´ ë“œë¦½ë‹ˆë‹¤.'
    },
    {
        id: 5,
        question: 'ì½”ë”© í…ŒìŠ¤íŠ¸ ì‹¤ë ¥ì´ ë¶€ì¡±í•´ë„ ì°¸ì—¬í•  ìˆ˜ ìˆë‚˜ìš”?',
        answer: 'ë„¤, ì‹¤ë ¥ì— ê´€ê³„ì—†ì´ ëˆ„êµ¬ë‚˜ ì°¸ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•¨ê»˜ì˜ ê°€ì¹˜ë¥¼ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ë©°, ì„œë¡œ ë•ê³  ë°°ìš°ë©° ì„±ì¥í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ ì§€í–¥í•©ë‹ˆë‹¤.'
    }
];

const tecotecoSteps: StepContent[] = [
    {
        label: "ë¬¸ì œë¥¼ ë§Œë‚˜ê³ ",
        title: "ìƒˆë¡œìš´ ë„ì „, ìµìˆ™í•œ ë¬¸ì œ",
        description: "í˜¼ìì„œëŠ” ì—„ë‘ ë‚´ì§€ ëª»í–ˆë˜ ë¬¸ì œë“¤. TecoTecoì—ì„œëŠ” ê·¸ ë¬¸ì œë“¤ì„ í”¼í•˜ì§€ ì•Šê³ , í•¨ê»˜ ë§ˆì£¼í•˜ë©° ìƒˆë¡œìš´ ë„ì „ì„ ì‹œì‘í•©ë‹ˆë‹¤. ì‘ì€ ì„±ê³µë“¤ì´ ìŒ“ì—¬ í° ìì‹ ê°ìœ¼ë¡œ ì´ì–´ì§ˆ ê±°ì˜ˆìš”.",
        image: process.env.PUBLIC_URL + '/images/step_problem.png',
    },
    {
        label: "ì§ˆë¬¸í•˜ê³ ",
        title: "ë©ˆì¶”ì§€ ì•ŠëŠ” í˜¸ê¸°ì‹¬, ë‚ ì¹´ë¡œìš´ ì§ˆë¬¸",
        description: "ë§‰íˆëŠ” ë¬¸ì œ, ì´í•´í•˜ê¸° ì–´ë ¤ìš´ ê°œë…ì´ ìˆë‹¤ë©´ ì–¸ì œë“  ì§ˆë¬¸í•˜ì„¸ìš”. TecoTecoëŠ” ê¶ê¸ˆì¦ì„ í•´ì†Œí•˜ê³  ì§€ì‹ì„ ë‚˜ëˆ„ëŠ” ì—´ë¦° ì†Œí†µì˜ ì¥ì…ë‹ˆë‹¤.",
        image: process.env.PUBLIC_URL + '/images/step_question.png',
    },
    {
        label: "í† ë¡ í•˜ê³ ",
        title: "ë‹¤ì–‘í•œ ì‹œê°, ê¹Šì´ ìˆëŠ” í†µì°°",
        description: "ì •ë‹µì€ í•˜ë‚˜ê°€ ì•„ë‹ˆì—ìš”. ë‹¤ì–‘í•œ í’€ì´ ë°©ì‹ê³¼ ì•„ì´ë””ì–´ë¥¼ ê³µìœ í•˜ê³  í† ë¡ í•˜ë©° ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ì„ í‚¤ì›ë‹ˆë‹¤. ë•Œë¡œëŠ” ë…¼ìŸì„ í†µí•´ ìƒˆë¡œìš´ í•´ë‹µì„ ì°¾ê¸°ë„ í•©ë‹ˆë‹¤.",
        image: process.env.PUBLIC_URL + '/images/step_discuss.png',
    },
    {
        label: "ì½”ë“œ ë¦¬ë·°",
        title: "ì™„ì„±ë„ë¥¼ ë†’ì´ëŠ” ê¼¼ê¼¼í•¨",
        description: "ì˜ ì§  ì½”ë“œëŠ” ì•„ë¦„ë‹µìŠµë‹ˆë‹¤. ì„œë¡œì˜ ì½”ë“œë¥¼ ë¦¬ë·°í•˜ë©° ë” íš¨ìœ¨ì ì´ê³  ê¹”ë”í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•ì„ ìµíˆê³ , í´ë¦° ì½”ë“œ ìŠµê´€ì„ ê¸°ë¦…ë‹ˆë‹¤.",
        image: process.env.PUBLIC_URL + '/images/step_review.png',
    },
    {
        label: "ì„±ì¥í•˜ë‹¤",
        title: "í•¨ê»˜ë¼ì„œ ê°€ëŠ¥í•œ ì„±ì¥",
        description: "í˜¼ìì˜€ë‹¤ë©´ ì–´ë ¤ì› ì„ ì—¬ì •ë„ í•¨ê»˜ë¼ë©´ ê°€ëŠ¥í•©ë‹ˆë‹¤. TecoTecoì—ì„œ ê¾¸ì¤€íˆ í•™ìŠµí•˜ê³  êµë¥˜í•˜ë©° í•œ ë‹¨ê³„ ë” ì„±ì¥í•œ ë‹¹ì‹ ì„ ë°œê²¬í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.",
        image: process.env.PUBLIC_URL + '/images/step_grow.png',
    },
];

// ì‹¤ì‹œê°„ í™œë™ í”¼ë“œ ë°ì´í„°
const recentActivities: Activity[] = [
    {
        id: 1,
        type: 'solve',
        user: 'renechoi',
        content: 'LeetCode 322. Coin Change ë¬¸ì œë¥¼ í•´ê²°í–ˆì–´ìš”',
        time: 'ë°©ê¸ˆ ì „',
        icon: 'âœ…'
    },
    {
        id: 2,
        type: 'review',
        user: 'kdelay',
        content: 'DFS/BFS ì£¼ì œë¡œ ì½”ë“œ ë¦¬ë·°ë¥¼ ì§„í–‰í–ˆì–´ìš”',
        time: '5ë¶„ ì „',
        icon: 'ğŸ’¬'
    },
    {
        id: 3,
        type: 'milestone',
        user: 'vvoohhee',
        content: '100ì¼ ì—°ì† ì¶œì„ ë‹¬ì„±! ğŸ‰',
        time: '1ì‹œê°„ ì „',
        icon: 'ğŸ†'
    },
    {
        id: 4,
        type: 'join',
        user: 'ìƒˆë¡œìš´ ë©¤ë²„',
        content: 'TecoTecoì— í•©ë¥˜í–ˆì–´ìš”',
        time: '2ì‹œê°„ ì „',
        icon: 'ğŸ‘‹'
    }
];

// ì„±ì¥ ì§€í‘œ ë°ì´í„°
const growthMetrics: GrowthMetric[] = [
    {
        label: 'ì´ë²ˆ ì£¼ í•´ê²° ë¬¸ì œ',
        value: 127,
        unit: 'ê°œ',
        trend: 15,
        icon: 'ğŸ“'
    },
    {
        label: 'í™œë°œí•œ ë©¤ë²„',
        value: 24,
        unit: 'ëª…',
        trend: 8,
        icon: 'ğŸ‘¥'
    },
    {
        label: 'ì½”ë“œ ë¦¬ë·°',
        value: 89,
        unit: 'ê±´',
        trend: 23,
        icon: 'ğŸ”'
    },
    {
        label: 'í‰ê·  ì¶œì„ë¥ ',
        value: 92,
        unit: '%',
        trend: 5,
        icon: 'ğŸ“Š'
    }
];

// ë©¤ë²„ ì„±ì¥ ìŠ¤í† ë¦¬ ë°ì´í„°
const memberStories: MemberStory[] = [
    {
        id: 1,
        name: "ê¹€ê°œë°œ",
        role: "ë°±ì—”ë“œ ê°œë°œì",
        company: "ë„¤ì¹´ë¼ì¿ ë°°",
        beforeAfter: {
            before: "ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë§Œ ë³´ë©´ ë§‰ë§‰í–ˆë˜",
            after: "ì´ì œëŠ” ë¬¸ì œ íŒ¨í„´ì´ ë³´ì´ëŠ”"
        },
        quote: "í˜¼ìì˜€ë‹¤ë©´ í¬ê¸°í–ˆì„ ë¬¸ì œë“¤ë„ í•¨ê»˜ë¼ì„œ í•´ê²°í•  ìˆ˜ ìˆì—ˆì–´ìš”. íŠ¹íˆ DP ë¬¸ì œëŠ” ì´ì œ ìì‹ ìˆê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
        duration: "6ê°œì›”",
        achievements: ["ì½”ë”©í…ŒìŠ¤íŠ¸ 3ì‚¬ í•©ê²©", "ë¦¬íŠ¸ì½”ë“œ 300ë¬¸ì œ í•´ê²°", "ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë”” ë¦¬ë”"],
        profileImage: process.env.PUBLIC_URL + '/images/face/member1.png'
    },
    {
        id: 2,
        name: "ì´í”„ë¡ íŠ¸",
        role: "í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì",
        beforeAfter: {
            before: "ìë£Œêµ¬ì¡°ê°€ ì•½í–ˆë˜",
            after: "ìµœì í™”ë¥¼ ê³ ë¯¼í•˜ëŠ”"
        },
        quote: "TecoTecoì—ì„œ ë°°ìš´ ìë£Œêµ¬ì¡° ì§€ì‹ì´ ì‹¤ë¬´ì—ì„œë„ í° ë„ì›€ì´ ëì–´ìš”. ì´ì œëŠ” ì„±ëŠ¥ì„ ê³ ë ¤í•œ ì½”ë“œë¥¼ ì§¤ ìˆ˜ ìˆê²Œ ëìŠµë‹ˆë‹¤.",
        duration: "4ê°œì›”",
        achievements: ["Big-O ë§ˆìŠ¤í„°", "íŠ¸ë¦¬/ê·¸ë˜í”„ ì •ë³µ", "íŒ€ë‚´ ì„±ëŠ¥ ê°œì„  ì£¼ë„"],
        profileImage: process.env.PUBLIC_URL + '/images/face/member2.png'
    }
];

// ì•Œê³ ë¦¬ì¦˜ ë ˆë²¨ ë°ì´í„°
const algorithmLevels: AlgorithmLevel[] = [
    {
        id: 'beginner',
        title: 'ğŸŒ± ì…ë¬¸ì',
        description: 'ìë£Œêµ¬ì¡°ê°€ ë­”ì§€ ì˜ ëª¨ë¥´ê² ì–´ìš”',
        examples: ['ë°°ì—´ê³¼ ë¦¬ìŠ¤íŠ¸ì˜ ì°¨ì´', 'ì‹œê°„ë³µì¡ë„ ê°œë…', 'forë¬¸ ìµœì í™”'],
        difficulty: 'beginner',
        icon: 'ğŸŒ±'
    },
    {
        id: 'intermediate',
        title: 'ğŸŒ¿ ì¤‘ê¸‰ì',
        description: 'ê¸°ë³¸ ìë£Œêµ¬ì¡°ëŠ” ì•Œì§€ë§Œ ì‘ìš©ì´ ì–´ë ¤ì›Œìš”',
        examples: ['BFS/DFS êµ¬í˜„', 'ì´ì§„íƒìƒ‰ í™œìš©', 'DP ê¸°ì´ˆ ë¬¸ì œ'],
        difficulty: 'intermediate',
        icon: 'ğŸŒ¿'
    },
    {
        id: 'advanced',
        title: 'ğŸŒ³ ê³ ê¸‰ì',
        description: 'ë³µì¡í•œ ë¬¸ì œë„ ì ‘ê·¼ì€ ê°€ëŠ¥í•´ìš”',
        examples: ['ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬', 'ë‹¤ìµìŠ¤íŠ¸ë¼ ìµœì í™”', 'DP ì‹¬í™”'],
        difficulty: 'advanced',
        icon: 'ğŸŒ³'
    }
];

// ì£¼ê°„ ìŠ¤ì¼€ì¤„ ë°ì´í„°
const weeklySchedules: WeeklySchedule[] = [
    {
        week: 1,
        topic: 'ìŠ¤íƒê³¼ í',
        keyPoints: ['LIFO vs FIFO', 'ì‹¤ì œ í™œìš© ì‚¬ë¡€', 'ë¬¸ì œ íŒ¨í„´ ì¸ì‹'],
        problemCount: 5,
        difficulty: 'â˜…â˜…â˜†â˜†â˜†'
    },
    {
        week: 2,
        topic: 'í•´ì‹œí…Œì´ë¸”',
        keyPoints: ['í•´ì‹œ í•¨ìˆ˜ì˜ ì´í•´', 'ì¶©ëŒ í•´ê²° ë°©ë²•', 'Map vs Set'],
        problemCount: 6,
        difficulty: 'â˜…â˜…â˜…â˜†â˜†'
    },
    {
        week: 3,
        topic: 'ê·¸ë˜í”„ íƒìƒ‰',
        keyPoints: ['BFS vs DFS', 'ìµœë‹¨ ê²½ë¡œ ì°¾ê¸°', 'ì‚¬ì´í´ ê²€ì¶œ'],
        problemCount: 7,
        difficulty: 'â˜…â˜…â˜…â˜…â˜†'
    }
];

// ì½”ë“œ ë¦¬ë·° ìƒ˜í”Œ ë°ì´í„°
const codeReviewSamples: CodeReviewSample[] = [
    {
        id: 1,
        title: 'ë‘ ìˆ˜ì˜ í•© - ì‹œê°„ë³µì¡ë„ ê°œì„ ',
        originalCode: `// ì²˜ìŒ ì‘ì„±í•œ ì½”ë“œ
for (int i = 0; i < nums.length; i++) {
    for (int j = i + 1; j < nums.length; j++) {
        if (nums[i] + nums[j] == target) {
            return new int[] {i, j};
        }
    }
}`,
        reviewedCode: `// ë¦¬ë·° í›„ ê°œì„ ëœ ì½”ë“œ
Map<Integer, Integer> map = new HashMap<>();
for (int i = 0; i < nums.length; i++) {
    int complement = target - nums[i];
    if (map.containsKey(complement)) {
        return new int[] {map.get(complement), i};
    }
    map.put(nums[i], i);
}`,
        comments: [
            { line: 2, comment: 'O(nÂ²) â†’ O(n)ìœ¼ë¡œ ê°œì„  ê°€ëŠ¥í•´ìš”!', author: 'renechoi' },
            { line: 5, comment: 'í•´ì‹œë§µì„ ì‚¬ìš©í•˜ë©´ í•œ ë²ˆì˜ ìˆœíšŒë¡œ í•´ê²°ë©ë‹ˆë‹¤', author: 'kdelay' }
        ]
    }
];

// ëˆ„ë½ëœ handleImgError í•¨ìˆ˜
const handleImgError = (e: React.SyntheticEvent<HTMLImageElement, Event>) => {
    e.currentTarget.src = process.env.PUBLIC_URL + '/images/default-profile.png'; // ëŒ€ì²´ ì´ë¯¸ì§€ ê²½ë¡œ
    e.currentTarget.onerror = null; // ë¬´í•œ ë£¨í”„ ë°©ì§€
};

// ===========================
// Lazy ë¡œë”© ì»´í¬ë„ŒíŠ¸
// ===========================
const ActivityFeed = lazy(() => import('../pages/tecoteco/components/ActivityFeed'));
const GrowthDashboard = lazy(() => import('../pages/tecoteco/components/GrowthDashboard'));
const MemberStoryCarousel = lazy(() => import('../pages/tecoteco/components/MemberStoryCarousel'));

// ===========================
// ì»´í¬ë„ŒíŠ¸ ì •ì˜ (ë¶€ë¶„ 2, 3ì—ì„œ ê°€ì ¸ì˜¨ ì»´í¬ë„ŒíŠ¸ë“¤)
// ===========================

// ë¡œë”© ìŠ¤í”¼ë„ˆ ì»´í¬ë„ŒíŠ¸
const LoadingSpinner: React.FC = () => (
    <div className="loading-spinner">
        <div className="spinner"></div>
    </div>
);

// ì´ë¯¸ì§€ ë ˆì´ì§€ ë¡œë”© í›…
const useLazyImage = (src: string) => {
    const [imageSrc, setImageSrc] = useState<string>('');
    const [imageRef, isInView] = useInView({
        threshold: 0.1,
        triggerOnce: true
    });

    useEffect(() => {
        if (isInView && src) {
            setImageSrc(src);
        }
    }, [isInView, src]);

    return { imageSrc, imageRef };
};

// ìµœì í™”ëœ ì´ë¯¸ì§€ ì»´í¬ë„ŒíŠ¸
const OptimizedImage: React.FC<{
    src: string;
    alt: string;
    className?: string;
    placeholder?: string;
}> = ({ src, alt, className, placeholder }) => {
    const { imageSrc, imageRef } = useLazyImage(src);
    const [isLoaded, setIsLoaded] = useState(false);

    return (
        <div ref={imageRef} className={`image-wrapper ${className}`}>
            {placeholder && !isLoaded && (
                <img
                    src={placeholder}
                    alt={alt}
                    className="image-placeholder"
                />
            )}
            {imageSrc && (
                <img
                    src={imageSrc}
                    alt={alt}
                    className={`lazy-image ${isLoaded ? 'loaded' : ''}`}
                    onLoad={() => setIsLoaded(true)}
                    onError={handleImgError}
                />
            )}
        </div>
    );
};

// ëª¨ë°”ì¼ í„°ì¹˜ ê°œì„ ì„ ìœ„í•œ í›…
const useMobileTouch = () => {
    const [touchStart, setTouchStart] = useState<number | null>(null);
    const [touchEnd, setTouchEnd] = useState<number | null>(null);

    const minSwipeDistance = 50;

    const onTouchStart = (e: React.TouchEvent) => {
        setTouchEnd(null);
        setTouchStart(e.targetTouches[0].clientX);
    };

    const onTouchMove = (e: React.TouchEvent) => {
        setTouchEnd(e.targetTouches[0].clientX);
    };

    const onTouchEnd = () => {
        if (!touchStart || !touchEnd) return;

        const distance = touchStart - touchEnd;
        const isLeftSwipe = distance > minSwipeDistance;
        const isRightSwipe = distance < -minSwipeDistance;

        return { isLeftSwipe, isRightSwipe };
    };

    return { onTouchStart, onTouchMove, onTouchEnd };
};

// ì„±ëŠ¥ ìµœì í™”ëœ ì• ë‹ˆë©”ì´ì…˜ í›…
const useOptimizedAnimation = () => {
    const [isPrefersReducedMotion, setIsPrefersReducedMotion] = useState(false);

    useEffect(() => {
        const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');
        setIsPrefersReducedMotion(mediaQuery.matches);

        const handleChange = () => {
            setIsPrefersReducedMotion(mediaQuery.matches);
        };

        mediaQuery.addEventListener('change', handleChange);
        return () => mediaQuery.removeEventListener('change', handleChange);
    }, []);

    return { isPrefersReducedMotion };
};

// ëª¨ë°”ì¼ ìµœì í™”ëœ ë„¤ë¹„ê²Œì´ì…˜ ì»´í¬ë„ŒíŠ¸
const MobileNav: React.FC<{
    sections: Array<{ id: string; title: string; icon: string }>;
}> = ({ sections }) => {
    const [activeSection, setActiveSection] = useState('');

    useEffect(() => {
        const handleScroll = () => {
            const scrollPosition = window.scrollY + 100;

            for (const section of sections) {
                const element = document.getElementById(section.id);
                if (element) {
                    const { offsetTop, offsetHeight } = element;
                    if (scrollPosition >= offsetTop && scrollPosition < offsetTop + offsetHeight) {
                        setActiveSection(section.id);
                        break;
                    }
                }
            }
        };

        window.addEventListener('scroll', handleScroll);
        return () => window.removeEventListener('scroll', handleScroll);
    }, [sections]);

    const scrollToSection = (sectionId: string) => {
        const element = document.getElementById(sectionId);
        if (element) {
            element.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    };

    return (
        <nav className="mobile-nav">
            {sections.map((section) => (
                <button
                    key={section.id}
                    className={`nav-item ${activeSection === section.id ? 'active' : ''}`}
                    onClick={() => scrollToSection(section.id)}
                    aria-label={`${section.title}ë¡œ ì´ë™`}
                >
                    <span className="nav-icon">{section.icon}</span>
                    <span className="nav-title">{section.title}</span>
                </button>
            ))}
        </nav>
    );
};

// ìŠ¤ì™€ì´í”„ ê°€ëŠ¥í•œ ìºëŸ¬ì…€ ì»´í¬ë„ŒíŠ¸
const SwipeableCarousel: React.FC<{
    items: any[];
    renderItem: (item: any, index: number) => React.ReactNode;
}> = ({ items, renderItem }) => {
    const [currentIndex, setCurrentIndex] = useState(0);
    const { onTouchStart, onTouchMove, onTouchEnd } = useMobileTouch();
    const carouselRef = useRef<HTMLDivElement>(null);

    const handleSwipe = () => {
        const swipeResult = onTouchEnd();
        if (!swipeResult) return;

        if (swipeResult.isLeftSwipe && currentIndex < items.length - 1) {
            setCurrentIndex(prev => prev + 1);
        } else if (swipeResult.isRightSwipe && currentIndex > 0) {
            setCurrentIndex(prev => prev - 1);
        }
    };

    useEffect(() => {
        if (carouselRef.current) {
            carouselRef.current.style.transform = `translateX(-${currentIndex * 100}%)`;
        }
    }, [currentIndex]);

    return (
        <div className="swipeable-carousel">
            <div
                ref={carouselRef}
                className="carousel-inner"
                onTouchStart={onTouchStart}
                onTouchMove={onTouchMove}
                onTouchEnd={handleSwipe}
            >
                {items.map((item, index) => (
                    <div key={index} className="carousel-item">
                        {renderItem(item, index)}
                    </div>
                ))}
            </div>
            <div className="carousel-dots">
                {items.map((_, index) => (
                    <button
                        key={index}
                        className={`dot ${currentIndex === index ? 'active' : ''}`}
                        onClick={() => setCurrentIndex(index)}
                        aria-label={`ìŠ¬ë¼ì´ë“œ ${index + 1}ë¡œ ì´ë™`}
                    />
                ))}
            </div>
        </div>
    );
};

// ëª¨ë°”ì¼ ìµœì í™”ëœ FAQ ì»´í¬ë„ŒíŠ¸
const MobileFAQ: React.FC<{ faqs: FAQItem[] }> = ({ faqs }) => {
    const [openId, setOpenId] = useState<number | null>(null);

    return (
        <div className="mobile-faq">
            {faqs.map((faq) => (
                <div
                    key={faq.id}
                    className={`faq-item ${openId === faq.id ? 'open' : ''}`}
                >
                    <button
                        className="faq-button"
                        onClick={() => setOpenId(openId === faq.id ? null : faq.id)}
                        aria-expanded={openId === faq.id}
                        aria-controls={`faq-answer-${faq.id}`}
                    >
                        <span className="faq-question">{faq.question}</span>
                        <span className="faq-icon" aria-hidden="true">
                            {openId === faq.id ? 'âˆ’' : '+'}
                        </span>
                    </button>
                    <div
                        id={`faq-answer-${faq.id}`}
                        className="faq-answer"
                        style={{
                            maxHeight: openId === faq.id ? '500px' : '0',
                            opacity: openId === faq.id ? 1 : 0
                        }}
                    >
                        <p>{faq.answer}</p>
                    </div>
                </div>
            ))}
        </div>
    );
};

// ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì»´í¬ë„ŒíŠ¸
const PerformanceMonitor: React.FC = () => {
    useEffect(() => {
        // ì„±ëŠ¥ ì¸¡ì •
        if ('performance' in window) {
            window.addEventListener('load', () => {
                const perfData = window.performance.timing;
                const pageLoadTime = perfData.loadEventEnd - perfData.navigationStart;
                const domReadyTime = perfData.domContentLoadedEventEnd - perfData.navigationStart;

                console.log('Performance Metrics:', {
                    pageLoadTime: `${pageLoadTime}ms`,
                    domReadyTime: `${domReadyTime}ms`,
                    resources: performance.getEntriesByType('resource').length
                });

                // ì„±ëŠ¥ì´ ëŠë¦° ê²½ìš° ê²½ê³ 
                if (pageLoadTime > 3000) {
                    console.warn('Page load time is slow. Consider optimizing assets.');
                }
            });
        }

        // Largest Contentful Paint ì¸¡ì •
        if ('PerformanceObserver' in window) {
            const observer = new PerformanceObserver((list) => {
                const entries = list.getEntries();
                const lastEntry = entries[entries.length - 1];
                console.log('LCP:', (lastEntry as PerformanceEntry).startTime); // Type assertion for PerformanceEntry
            });
            observer.observe({ entryTypes: ['largest-contentful-paint'] });
        }
    }, []);

    return null;
};

// ëª¨ë°”ì¼ ë·°í¬íŠ¸ ë†’ì´ ì¡°ì •
const useMobileViewportHeight = () => {
    useEffect(() => {
        const setViewportHeight = () => {
            const vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        };

        setViewportHeight();
        window.addEventListener('resize', setViewportHeight);
        window.addEventListener('orientationchange', setViewportHeight);

        return () => {
            window.removeEventListener('resize', setViewportHeight);
            window.removeEventListener('orientationchange', setViewportHeight);
        };
    }, []);
};

// ì‹¤ì‹œê°„ í™œë™ í”¼ë“œ ì»´í¬ë„ŒíŠ¸ (ë¶€ë¶„ 2ì—ì„œ ê°€ì ¸ì˜´)
const ActivityFeedLocal: React.FC = () => {
    const [activities, setActivities] = useState(recentActivities);
    const [isLive, setIsLive] = useState(true);

    useEffect(() => {
        if (!isLive) return;

        const interval = setInterval(() => {
            const newActivity: Activity = {
                id: Date.now(),
                type: ['solve', 'review', 'join', 'milestone'][Math.floor(Math.random() * 4)] as Activity['type'],
                user: ['ìƒˆë¡œìš´ ë©¤ë²„', 'renechoi', 'kdelay', 'vvoohhee'][Math.floor(Math.random() * 4)],
                content: 'ìƒˆë¡œìš´ í™œë™ì´ ìˆì–´ìš”',
                time: 'ë°©ê¸ˆ ì „',
                icon: ['âœ…', 'ğŸ’¬', 'ğŸ‘‹', 'ğŸ†'][Math.floor(Math.random() * 4)]
            };

            setActivities(prev => [newActivity, ...prev.slice(0, 4)]);
        }, 10000);

        return () => clearInterval(interval);
    }, [isLive]);

    return (
        <div className="activity-feed">
            <div className="feed-header">
                <h3>ğŸ”¥ ì§€ê¸ˆ ì´ ìˆœê°„, TecoTecoëŠ”</h3>
                <button
                    className={`live-toggle ${isLive ? 'active' : ''}`}
                    onClick={() => setIsLive(!isLive)}
                >
                    <span className="live-dot"></span>
                    {isLive ? 'LIVE' : 'PAUSED'}
                </button>
            </div>
            <div className="activities-list">
                {activities.map((activity, index) => (
                    <div
                        key={activity.id}
                        className={`activity-item ${index === 0 ? 'new' : ''}`}
                        style={{ animationDelay: `${index * 0.1}s` }}
                    >
                        <span className="activity-icon">{activity.icon}</span>
                        <div className="activity-content">
                            <p>
                                <strong>{activity.user}</strong>
                                {activity.content}
                            </p>
                            <span className="activity-time">{activity.time}</span>
                        </div>
                    </div>
                ))}
            </div>
        </div>
    );
};

// ì„±ì¥ ì§€í‘œ ëŒ€ì‹œë³´ë“œ ì»´í¬ë„ŒíŠ¸ (ë¶€ë¶„ 2ì—ì„œ ê°€ì ¸ì˜´)
const GrowthDashboardLocal: React.FC = () => {
    const [animatedValues, setAnimatedValues] = useState<{[key: string]: number}>({});

    useEffect(() => {
        growthMetrics.forEach((metric, index) => {
            setTimeout(() => {
                const duration = 2000;
                const start = 0;
                const end = metric.value;
                const startTime = Date.now();

                const animate = () => {
                    const now = Date.now();
                    const progress = Math.min((now - startTime) / duration, 1);
                    const value = Math.floor(start + (end - start) * progress);

                    setAnimatedValues(prev => ({ ...prev, [metric.label]: value }));

                    if (progress < 1) {
                        requestAnimationFrame(animate);
                    }
                };
                animate();
            }, index * 200);
        });
    }, []);

    return (
        <div className="growth-dashboard">
            <h3 className="dashboard-title">ğŸ“ˆ ì´ë²ˆ ì£¼ TecoTeco</h3>
            <div className="metrics-grid">
                {growthMetrics.map((metric, index) => (
                    <div
                        key={metric.label}
                        className="metric-card"
                        style={{ animationDelay: `${index * 0.1}s` }}
                    >
                        <div className="metric-icon">{metric.icon}</div>
                        <div className="metric-content">
                            <div className="metric-value">
                                <span className="value-number">
                                    {animatedValues[metric.label] || 0}
                                </span>
                                <span className="value-unit">{metric.unit}</span>
                            </div>
                            <p className="metric-label">{metric.label}</p>
                            <div className={`metric-trend ${metric.trend > 0 ? 'up' : 'down'}`}>
                                {metric.trend > 0 ? 'â†‘' : 'â†“'} {Math.abs(metric.trend)}%
                            </div>
                        </div>
                    </div>
                ))}
            </div>
        </div>
    );
};

// ë©¤ë²„ ì„±ì¥ ìŠ¤í† ë¦¬ ìºëŸ¬ì…€ ì»´í¬ë„ŒíŠ¸ (ë¶€ë¶„ 2ì—ì„œ ê°€ì ¸ì˜´)
const MemberStoryCarouselLocal: React.FC = () => {
    const [currentStory, setCurrentStory] = useState(0);

    const nextStory = () => {
        setCurrentStory((prev) => (prev + 1) % memberStories.length);
    };

    const prevStory = () => {
        setCurrentStory((prev) => (prev - 1 + memberStories.length) % memberStories.length);
    };

    return (
        <div className="member-story-carousel">
            <h3 className="story-title">ğŸŒŸ TecoTecoì™€ í•¨ê»˜ ì„±ì¥í•œ ì´ì•¼ê¸°</h3>
            <div className="story-container">
                <button className="story-nav prev" onClick={prevStory}>â€¹</button>
                <div className="story-content">
                    {memberStories.map((story, index) => (
                        <div
                            key={story.id}
                            className={`story-card ${index === currentStory ? 'active' : ''}`}
                            style={{ display: index === currentStory ? 'block' : 'none' }}
                        >
                            <div className="story-header">
                                <img
                                    src={story.profileImage}
                                    alt={story.name}
                                    className="story-profile"
                                    onError={handleImgError}
                                />
                                <div className="story-info">
                                    <h4>{story.name}</h4>
                                    <p>{story.role} {story.company && `@ ${story.company}`}</p>
                                    <span className="story-duration">TecoTeco {story.duration}</span>
                                </div>
                            </div>
                            <div className="story-transformation">
                                <p className="before">{story.beforeAfter.before}</p>
                                <span className="arrow">â†’</span>
                                <p className="after">{story.beforeAfter.after}</p>
                            </div>
                            <blockquote className="story-quote">
                                "{story.quote}"
                            </blockquote>
                            <div className="story-achievements">
                                {story.achievements.map((achievement, idx) => (
                                    <span key={idx} className="achievement-badge">
                                        {achievement}
                                    </span>
                                ))}
                            </div>
                        </div>
                    ))}
                </div>
                <button className="story-nav next" onClick={nextStory}>â€º</button>
            </div>
            <div className="story-dots">
                {memberStories.map((_, index) => (
                    <span
                        key={index}
                        className={`dot ${index === currentStory ? 'active' : ''}`}
                        onClick={() => setCurrentStory(index)}
                    />
                ))}
            </div>
        </div>
    );
};

// ì•Œê³ ë¦¬ì¦˜ ë ˆë²¨ ì²´í¬ ì»´í¬ë„ŒíŠ¸ (ë¶€ë¶„ 3ì—ì„œ ê°€ì ¸ì˜´)
const AlgorithmLevelCheck: React.FC = () => {
    const [selectedLevel, setSelectedLevel] = useState<string | null>(null);
    const [isRevealed, setIsRevealed] = useState(false);

    const handleLevelSelect = (levelId: string) => {
        setSelectedLevel(levelId);
        setTimeout(() => setIsRevealed(true), 300);
    };

    return (
        <div className="algorithm-level-check">
            <h3 className="level-check-title">ğŸ¯ ë‚˜ì˜ í˜„ì¬ ìœ„ì¹˜ëŠ”?</h3>
            <p className="level-check-subtitle">
                í…Œì½”í…Œì½”ì—ì„œëŠ” ëª¨ë“  ë ˆë²¨ì´ í™˜ì˜ë°›ìŠµë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì‹œì‘ì ì„ ì„ íƒí•´ë³´ì„¸ìš”!
            </p>

            <div className="level-cards">
                {algorithmLevels.map((level) => (
                    <div
                        key={level.id}
                        className={`level-card ${selectedLevel === level.id ? 'selected' : ''}`}
                        onClick={() => handleLevelSelect(level.id)}
                    >
                        <div className="level-icon">{level.icon}</div>
                        <h4>{level.title}</h4>
                        <p>{level.description}</p>
                        <div className="level-examples">
                            {level.examples.map((example, idx) => (
                                <span key={idx} className="example-tag">{example}</span>
                            ))}
                        </div>
                    </div>
                ))}
            </div>

            {selectedLevel && isRevealed && (
                <div className="level-result">
                    <p className="result-message">
                        <strong>ì™„ë²½í•´ìš”!</strong> TecoTecoëŠ”{' '}
                        <span className="highlight">ëª¨ë“  ë ˆë²¨ì˜ ê°œë°œìê°€ í•¨ê»˜ ì„±ì¥</span>í•˜ëŠ” ê³³ì…ë‹ˆë‹¤.
                        {selectedLevel === 'beginner' && ' ê¸°ì´ˆë¶€í„° ì°¨ê·¼ì°¨ê·¼ ë‹¤ì ¸ë‚˜ê°€ìš”.'}
                        {selectedLevel === 'intermediate' && ' ì‹¤ì „ ë¬¸ì œë¡œ ì‹¤ë ¥ì„ í•œ ë‹¨ê³„ ëŒì–´ì˜¬ë ¤ìš”.'}
                        {selectedLevel === 'advanced' && ' ë” ê¹Šì´ ìˆëŠ” í† ë¡ ê³¼ ìµœì í™”ë¥¼ ì¶”êµ¬í•´ìš”.'}
                    </p>
                </div>
            )}
        </div>
    );
};

// ì£¼ê°„ ìŠ¤ì¼€ì¤„ ë¯¸ë¦¬ë³´ê¸° ì»´í¬ë„ŒíŠ¸ (ë¶€ë¶„ 3ì—ì„œ ê°€ì ¸ì˜´)
const WeeklySchedulePreview: React.FC = () => {
    const [expandedWeek, setExpandedWeek] = useState<number | null>(1);
    const scheduleRef = useRef<HTMLDivElement>(null);

    useEffect(() => {
        if (scheduleRef.current && expandedWeek !== null) {
            const expandedElement = scheduleRef.current.querySelector(`.week-card:nth-child(${expandedWeek})`);
            expandedElement?.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
    }, [expandedWeek]);

    return (
        <div className="weekly-schedule-preview" ref={scheduleRef}>
            <h3 className="schedule-title">ğŸ“… ì•ìœ¼ë¡œì˜ ì—¬ì • ë¯¸ë¦¬ë³´ê¸°</h3>
            <p className="schedule-subtitle">
                ë§¤ì£¼ ìƒˆë¡œìš´ ì£¼ì œë¡œ <span className="highlight">ì²´ê³„ì ìœ¼ë¡œ ì„±ì¥</span>í•©ë‹ˆë‹¤
            </p>

            <div className="schedule-timeline">
                {weeklySchedules.map((schedule) => (
                    <div
                        key={schedule.week}
                        className={`week-card ${expandedWeek === schedule.week ? 'expanded' : ''}`}
                        onClick={() => setExpandedWeek(schedule.week)}
                    >
                        <div className="week-header">
                            <span className="week-number">Week {schedule.week}</span>
                            <h4 className="week-topic">{schedule.topic}</h4>
                            <span className="week-difficulty">{schedule.difficulty}</span>
                        </div>

                        {expandedWeek === schedule.week && (
                            <div className="week-details">
                                <div className="key-points">
                                    <h5>í•µì‹¬ í•™ìŠµ í¬ì¸íŠ¸</h5>
                                    <ul>
                                        {schedule.keyPoints.map((point, idx) => (
                                            <li key={idx}>{point}</li>
                                        ))}
                                    </ul>
                                </div>
                                <div className="problem-info">
                                    <span className="problem-count">
                                        ğŸ¯ {schedule.problemCount}ê°œ ë¬¸ì œ ë„ì „
                                    </span>
                                </div>
                            </div>
                        )}
                    </div>
                ))}
            </div>

            <div className="schedule-cta">
                <p>ì´ ì™¸ì—ë„ <strong>DP, ê·¸ë¦¬ë””, ë°±íŠ¸ë˜í‚¹</strong> ë“± ë‹¤ì–‘í•œ ì£¼ì œê°€ ì¤€ë¹„ë˜ì–´ ìˆì–´ìš”!</p>
            </div>
        </div>
    );
};

// ì½”ë“œ ë¦¬ë·° ì²´í—˜ ì»´í¬ë„ŒíŠ¸ (ë¶€ë¶„ 3ì—ì„œ ê°€ì ¸ì˜´)
const CodeReviewExperience: React.FC = () => {
    const [currentSample, setCurrentSample] = useState(0);
    const [showComments, setShowComments] = useState(false);
    const [activeTab, setActiveTab] = useState<'before' | 'after'>('before');

    const sample = codeReviewSamples[currentSample];

    return (
        <div className="code-review-experience">
            <h3 className="review-title">ğŸ’¬ TecoTecoì˜ ë”°ëœ»í•œ ì½”ë“œ ë¦¬ë·° ë¬¸í™”</h3>
            <p className="review-subtitle">
                ì„œë¡œì˜ ì½”ë“œë¥¼ ë³´ë©° <span className="highlight">í•¨ê»˜ ë” ë‚˜ì€ í•´ë‹µ</span>ì„ ì°¾ì•„ê°‘ë‹ˆë‹¤
            </p>

            <div className="review-container">
                <div className="review-header">
                    <h4>{sample.title}</h4>
                    <div className="tab-buttons">
                        <button
                            className={`tab-btn ${activeTab === 'before' ? 'active' : ''}`}
                            onClick={() => setActiveTab('before')}
                        >
                            Before
                        </button>
                        <button
                            className={`tab-btn ${activeTab === 'after' ? 'active' : ''}`}
                            onClick={() => setActiveTab('after')}
                        >
                            After
                        </button>
                    </div>
                </div>

                <div className="code-display">
                    <pre className="code-block">
                        <code>
                            {activeTab === 'before' ? sample.originalCode : sample.reviewedCode}
                        </code>
                    </pre>

                    {activeTab === 'after' && (
                        <button
                            className="show-comments-btn"
                            onClick={() => setShowComments(!showComments)}
                        >
                            {showComments ? 'ëŒ“ê¸€ ìˆ¨ê¸°ê¸°' : 'ë¦¬ë·° ëŒ“ê¸€ ë³´ê¸°'}
                        </button>
                    )}
                </div>

                {showComments && activeTab === 'after' && (
                    <div className="review-comments">
                        {sample.comments.map((comment, idx) => (
                            <div key={idx} className="comment-item">
                                <span className="comment-author">@{comment.author}</span>
                                <p className="comment-text">{comment.comment}</p>
                            </div>
                        ))}
                    </div>
                )}

                <div className="review-impact">
                    <div className="impact-item">
                        <span className="impact-label">ì‹œê°„ë³µì¡ë„</span>
                        <span className="impact-change">O(nÂ²) â†’ O(n)</span>
                    </div>
                    <div className="impact-item">
                        <span className="impact-label">ê°€ë…ì„±</span>
                        <span className="impact-change">â­â­â­ â†’ â­â­â­â­â­</span>
                    </div>
                </div>
            </div>
        </div>
    );
};

// ì°¸ì—¬ ì²´í—˜ í”Œë¡œìš° ì»´í¬ë„ŒíŠ¸ (ë¶€ë¶„ 3ì—ì„œ ê°€ì ¸ì˜´)
const JoinExperienceFlow: React.FC = () => {
    const [currentStep, setCurrentStep] = useState(0);
    const [userInfo, setUserInfo] = useState({
        experience: '',
        goal: '',
        availability: ''
    });

    const steps = [
        {
            question: 'í˜„ì¬ ê°œë°œ ê²½ë ¥ì€ ì–´ë–»ê²Œ ë˜ì‹œë‚˜ìš”?',
            options: ['í•™ìƒ/ì·¨ì¤€ìƒ', 'ì£¼ë‹ˆì–´ (1-3ë…„)', 'ë¯¸ë“œ/ì‹œë‹ˆì–´ (3ë…„+)'],
            field: 'experience'
        },
        {
            question: 'TecoTecoì—ì„œ ì´ë£¨ê³  ì‹¶ì€ ëª©í‘œëŠ”?',
            options: ['ì½”ë”©í…ŒìŠ¤íŠ¸ í•©ê²©', 'ì‹¤ë ¥ í–¥ìƒ', 'ë„¤íŠ¸ì›Œí‚¹'],
            field: 'goal'
        },
        {
            question: 'ê¸ˆìš”ì¼ ì €ë… ì°¸ì—¬ê°€ ê°€ëŠ¥í•˜ì‹ ê°€ìš”?',
            options: ['ë§¤ì£¼ ê°€ëŠ¥', 'ê²©ì£¼ ê°€ëŠ¥', 'ì˜¨ë¼ì¸ ì„ í˜¸'],
            field: 'availability'
        }
    ];

    const handleAnswer = (answer: string) => {
        setUserInfo(prev => ({ ...prev, [steps[currentStep].field]: answer }));
        if (currentStep < steps.length - 1) {
            setCurrentStep(prev => prev + 1);
        }
    };

    const isComplete = currentStep === steps.length - 1 && userInfo.availability;

    return (
        <div className="join-experience-flow">
            <h3 className="flow-title">ğŸš€ TecoTeco ì°¸ì—¬ ì²´í—˜í•˜ê¸°</h3>

            <div className="progress-bar">
                <div
                    className="progress-fill"
                    style={{ width: `${((currentStep + 1) / steps.length) * 100}%` }}
                />
            </div>

            {!isComplete ? (
                <div className="question-step">
                    <h4>{steps[currentStep].question}</h4>
                    <div className="answer-options">
                        {steps[currentStep].options.map((option) => (
                            <button
                                key={option}
                                className="answer-btn"
                                onClick={() => handleAnswer(option)}
                            >
                                {option}
                            </button>
                        ))}
                    </div>
                </div>
            ) : (
                <div className="result-step">
                    <h4>ğŸ‰ TecoTecoê°€ ë‹¹ì‹ ì„ ê¸°ë‹¤ë¦¬ê³  ìˆì–´ìš”!</h4>
                    <div className="result-summary">
                        <p>
                            <strong>{userInfo.experience}</strong>ì¸ ë‹¹ì‹ ì´{' '}
                            <strong>{userInfo.goal}</strong>ì„ ëª©í‘œë¡œ{' '}
                            <strong>{userInfo.availability}</strong>ë¡œ ì°¸ì—¬í•œë‹¤ë©´,
                        </p>
                        <p className="result-message">
                            TecoTecoì—ì„œ <span className="highlight">í™•ì‹¤í•œ ì„±ì¥</span>ì„ ê²½í—˜í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”!
                        </p>
                    </div>
                    <button className="cta-button" onClick={() => alert('@renechoiì—ê²Œ ì—°ë½í•˜ê¸°!')}>
                        ì§€ê¸ˆ ë°”ë¡œ ì‹œì‘í•˜ê¸°
                    </button>
                </div>
            )}
        </div>
    );
};


// ===========================
// ë©”ì¸ TecoTecoPage ì»´í¬ë„ŒíŠ¸
// ===========================
const TecoTecoPage: React.FC = () => {
    const [isMobile, setIsMobile] = useState(false);
    const { isPrefersReducedMotion } = useOptimizedAnimation();
    useMobileViewportHeight();

    const introSectionRef = useRef<HTMLElement>(null);
    const philosophySectionRef = useRef<HTMLElement>(null);
    const scheduleSectionRef = useRef<HTMLElement>(null);
    const membersSectionRef = useRef<HTMLElement>(null);
    const reviewsSectionRef = useRef<HTMLElement>(null);
    const faqSectionRef = useRef<HTMLElement>(null);

    useEffect(() => {
        const checkMobile = () => {
            setIsMobile(window.innerWidth <= 768);
        };

        checkMobile();
        window.addEventListener('resize', checkMobile);
        return () => window.removeEventListener('resize', checkMobile);
    }, []);

    // ë¶€ë¶„ 1ì˜ useEffect ì• ë‹ˆë©”ì´ì…˜ ì½”ë“œ í†µí•©
    useEffect(() => {
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        const animateElements = document.querySelectorAll('.animate-on-scroll');
        animateElements.forEach(el => observer.observe(el));

        const typeWriter = (element: HTMLElement, text: string, speed: number = 50) => {
            let i = 0;
            element.textContent = '';
            const typing = () => {
                if (i < text.length) {
                    element.textContent += text.charAt(i);
                    i++;
                    setTimeout(typing, speed);
                }
            };
            typing();
        };

        const heroTitle = document.querySelector('.hero-title');
        if (heroTitle && !heroTitle.classList.contains('typed') && !isPrefersReducedMotion) {
            heroTitle.classList.add('typed');
            // typeWriter(heroTitle as HTMLElement, 'ğŸ’¯ ì½”ë”©í…ŒìŠ¤íŠ¸ ìŠ¤í„°ë””, í…Œì½”í…Œì½”', 100); // ì´ë¯¸ JSXì— ìˆìœ¼ë¯€ë¡œ ì£¼ì„ ì²˜ë¦¬ ë˜ëŠ” ì œê±°
        }

        const countUp = (element: HTMLElement, end: number, duration: number = 2000) => {
            const start = 0;
            const increment = end / (duration / 16);
            let current = start;

            const updateCount = () => {
                current += increment;
                if (current < end) {
                    element.textContent = Math.floor(current).toString();
                    requestAnimationFrame(updateCount);
                } else {
                    element.textContent = end.toString();
                }
            };
            updateCount();
        };

        const statsElements = document.querySelectorAll('[data-count]');
        statsElements.forEach(el => {
            const target = parseInt(el.getAttribute('data-count') || '0');
            const observer = new IntersectionObserver((entries) => {
                if (entries[0].isIntersecting && !el.classList.contains('counted')) {
                    el.classList.add('counted');
                    countUp(el as HTMLElement, target);
                }
            });
            observer.observe(el);
        });

        const heroSection = document.querySelector('.tecoteco-hero-section') as HTMLElement;
        if (heroSection) {
            heroSection.addEventListener('mousemove', (e) => {
                const rect = heroSection.getBoundingClientRect();
                const x = ((e.clientX - rect.left) / rect.width) * 100;
                const y = ((e.clientY - rect.top) / rect.height) * 100;

                heroSection.style.setProperty('--mouse-x', `${x}%`);
                heroSection.style.setProperty('--mouse-y', `${y}%`);
            });
        }

        return () => {
            animateElements.forEach(el => observer.unobserve(el));
            if (heroSection) {
                heroSection.removeEventListener('mousemove', (e) => {}); // Clean up listener
            }
        };
    }, [isPrefersReducedMotion]);

    const handleCtaClick = () => {
        // CTA ë²„íŠ¼ í´ë¦­ ì‹œ ë™ì‘ (ì˜ˆ: FAQ ì„¹ì…˜ìœ¼ë¡œ ìŠ¤í¬ë¡¤)
        faqSectionRef.current?.scrollIntoView({ behavior: 'smooth' });
    };

    const navSections = [
        { id: 'intro', title: 'ì†Œê°œ', icon: 'ğŸ¯' },
        { id: 'philosophy', title: 'ê°€ì¹˜', icon: 'ğŸ¤' },
        { id: 'schedule', title: 'ì¼ì •', icon: 'ğŸ“…' },
        { id: 'members', title: 'ë©¤ë²„', icon: 'ğŸ‘¥' },
        { id: 'faq', title: 'FAQ', icon: 'â“' }
    ];

    return (
        <div className="tecoteco-page">
            <TemplateHeader />
            <PerformanceMonitor />
            {isMobile && <MobileNav sections={navSections} />}

            {/* Hero ì„¹ì…˜ - ìµœì í™”ëœ ì´ë¯¸ì§€ ì‚¬ìš© */}
            <section className="tecoteco-hero-section">
                <div className="hero-content">
                    <h1 className={`hero-title ${!isPrefersReducedMotion ? 'animated' : ''}`}>
                        ğŸ’¯ ì½”ë”©í…ŒìŠ¤íŠ¸ ìŠ¤í„°ë””, í…Œì½”í…Œì½”
                    </h1>
                    <p className="hero-subtitle">
                        í•¨ê»˜ <span className="highlight gradient-text">ì½”ë”©í…ŒìŠ¤íŠ¸ ë¿Œì‹œê³  ì„±ì¥í•˜ëŠ”</span> ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë””
                    </p>
                    <OptimizedImage
                        src={process.env.PUBLIC_URL + '/images/tecoteco-profile.png'}
                        alt="í…Œì½”í…Œì½” í”„ë¡œí•„"
                        className="hero-image"
                        placeholder={process.env.PUBLIC_URL + '/images/tecoteco-profile-placeholder.png'}
                    />
                    <div className="hero-stats">
                        <div className="stat-item">
                            <span className="stat-number" data-count="100">0</span>
                            <span className="stat-label">ì£¼ê°„ ë¬¸ì œ</span>
                        </div>
                        <div className="stat-item">
                            <span className="stat-number" data-count="50">0</span>
                            <span className="stat-label">í™œë°œí•œ ë©¤ë²„</span>
                        </div>
                        <div className="stat-item">
                            <span className="stat-number" data-count="3">0</span>
                            <span className="stat-label">ì‹œì¦Œ ì§„í–‰</span>
                        </div>
                    </div>
                </div>
                <div className="scroll-indicator" onClick={handleCtaClick}></div>
            </section>

            {/* Suspenseë¡œ ë ˆì´ì§€ ë¡œë”©ëœ Social Proof ì„¹ì…˜ */}
            <Suspense fallback={<LoadingSpinner />}>
                <section className="tecoteco-social-proof-section animate-on-scroll">
                    <div className="social-proof-container">
                        <ActivityFeedLocal />
                        <GrowthDashboardLocal />
                    </div>
                </section>
            </Suspense>

            {/* ì†Œê°œ ì„¹ì…˜ */}
            <section id="intro" className="tecoteco-intro-section animate-on-scroll" ref={introSectionRef}>
                <div className="intro-content">
                    <h2>ğŸ‘©â€ğŸ’» TecoTeco, ì™œ ì‹œì‘í•´ì•¼ í• ê¹Œìš”?</h2>
                    <p>
                        <span className="highlight">ì½”ë”© í…ŒìŠ¤íŠ¸ëŠ” ì´ì œ ê°œë°œìì˜ í•„ìˆ˜ ì—­ëŸ‰</span>ì…ë‹ˆë‹¤.<br />
                        í•˜ì§€ë§Œ í˜¼ìì„œ ê¾¸ì¤€íˆ ê³µë¶€í•˜ê¸°ëŠ” ì‰½ì§€ ì•Šì£ .
                        TecoTecoëŠ” í•¨ê»˜ ëª©í‘œë¥¼ í–¥í•´ ë‚˜ì•„ê°€ë©° <span className="highlight">ì§€ì†ì ì¸ ì„±ì¥</span>ì„ ë•ëŠ” ìŠ¤í„°ë””ì…ë‹ˆë‹¤.
                    </p>
                    <div className="intro-keywords">
                        {tecotecoKeywords.map((keyword, index) => (
                            <span key={index} className="keyword-bubble">{keyword}</span>
                        ))}
                    </div>
                </div>
            </section>

            {/* ëª¨ì„ ì§„í–‰ ë°©ì‹ ì„¹ì…˜ */}
            <section id="philosophy" className="tecoteco-how-it-works-section animate-on-scroll" ref={philosophySectionRef}>
                <h2>ğŸ¤ TecoTeco ëª¨ì„ì„ í•œë‹¤ëŠ” ê±´</h2>
                <div className="steps-container">
                    {tecotecoSteps.map((step, index) => (
                        <div key={index} className="step-card">
                            <div className="step-header">
                                <span className="step-label">{step.label}</span>
                                <h3>{step.title}</h3>
                            </div>
                            <p>{step.description}</p>
                            <OptimizedImage
                                src={step.image}
                                alt={step.label}
                                className="step-image"
                            />
                        </div>
                    ))}
                </div>
            </section>

            {/* ì¸í„°ë™í‹°ë¸Œ ì„¹ì…˜ (ì•Œê³ ë¦¬ì¦˜ ë ˆë²¨ ì²´í¬, ì£¼ê°„ ìŠ¤ì¼€ì¤„ ë¯¸ë¦¬ë³´ê¸°) */}
            <section className="tecoteco-interactive-section animate-on-scroll">
                <AlgorithmLevelCheck />
                <WeeklySchedulePreview />
            </section>

            {/* ì½”ë“œ ë¦¬ë·° ì²´í—˜ ì„¹ì…˜ */}
            <section className="tecoteco-culture-section animate-on-scroll">
                <CodeReviewExperience />
            </section>

            {/* ë©¤ë²„ ì„±ì¥ ìŠ¤í† ë¦¬ ì„¹ì…˜ */}
            <Suspense fallback={<LoadingSpinner />}>
                <section className="tecoteco-success-stories-section animate-on-scroll">
                    <MemberStoryCarouselLocal />
                </section>
            </Suspense>

            {/* ë©¤ë²„ ì†Œê°œ ì„¹ì…˜ */}
            <section id="members" className="tecoteco-members-section animate-on-scroll" ref={membersSectionRef}>
                <h2>ğŸ‘¥ TecoTeco ë©¤ë²„ë“¤ì„ ì†Œê°œí•©ë‹ˆë‹¤</h2>
                <div className="members-grid">
                    {tecotecoMembers.map((member, index) => (
                        <a key={index} href={`https://github.com/${member.githubId}`} target="_blank" rel="noopener noreferrer" className="member-card">
                            <OptimizedImage
                                src={member.imageUrl || 'https://avatars.githubusercontent.com/u/9919?s=400&v=4'} // fallback image
                                alt={member.name}
                                className="member-profile-img"
                            />
                            <h4>{member.name}</h4>
                            <p>@{member.githubId}</p>
                        </a>
                    ))}
                </div>
            </section>

            {/* ë¦¬ë·° ì„¹ì…˜ */}
            <section id="reviews" className="tecoteco-reviews-section animate-on-scroll" ref={reviewsSectionRef}>
                <h2>âœ¨ ë©¤ë²„ë“¤ì´ ë§í•˜ëŠ” TecoTeco</h2>
                {isMobile ? (
                    <SwipeableCarousel
                        items={tecotecoReviews}
                        renderItem={(review: Review) => (
                            <div className="review-card">
                                <div className="review-header">
                                    <span className="review-name">{review.name}</span>
                                    <span className="review-attend-count">âœ¨ {review.attendCount}íšŒ ì°¸ì„</span>
                                </div>
                                <h3>{review.title}</h3>
                                <p className="review-content">{review.content}</p>
                                <div className="review-footer">
                                    <span className="review-emojis">{review.emojis.join('')}</span>
                                    <span className="review-likes">â¤ï¸ {review.likes}</span>
                                    <span className="review-time-ago">{review.timeAgo}</span>
                                </div>
                            </div>
                        )}
                    />
                ) : (
                    <div className="reviews-grid">
                        {tecotecoReviews.map((review, index) => (
                            <div key={index} className="review-card">
                                <div className="review-header">
                                    <span className="review-name">{review.name}</span>
                                    <span className="review-attend-count">âœ¨ {review.attendCount}íšŒ ì°¸ì„</span>
                                </div>
                                <h3>{review.title}</h3>
                                <p className="review-content">{review.content}</p>
                                <div className="review-footer">
                                    <span className="review-emojis">{review.emojis.join('')}</span>
                                    <span className="review-likes">â¤ï¸ {review.likes}</span>
                                    <span className="review-time-ago">{review.timeAgo}</span>
                                </div>
                            </div>
                        ))}
                    </div>
                )}
            </section>

            {/* ì°¸ì—¬ ì²´í—˜ í”Œë¡œìš° ì„¹ì…˜ */}
            <section className="tecoteco-join-flow-section animate-on-scroll">
                <JoinExperienceFlow />
            </section>

            {/* FAQ ì„¹ì…˜ */}
            <section id="faq" className="tecoteco-faq-section animate-on-scroll" ref={faqSectionRef}>
                <h2>ğŸ¤” ìì£¼ ë¬»ëŠ” ì§ˆë¬¸</h2>
                {isMobile ? (
                    <MobileFAQ faqs={tecotecoFaqs} />
                ) : (
                    <div className="tecoteco-faq-items">
                        {tecotecoFaqs.map(faq => (
                            <details key={faq.id} className="faq-item">
                                <summary className="faq-question">{faq.question}</summary>
                                <p className="faq-answer">{faq.answer}</p>
                            </details>
                        ))}
                    </div>
                )}
                <div className="faq-contact">
                    <p>ì—¬ì „íˆ ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ì‹ ê°€ìš”? ì–¸ì œë“ ì§€ ë¬¸ì˜í•´ì£¼ì„¸ìš”!</p>
                    <button className="cta-button" onClick={() => alert('ë¬¸ì˜í•˜ê¸° ê¸°ëŠ¥ êµ¬í˜„ ì˜ˆì •!')}>ë¬¸ì˜í•˜ê¸°</button>
                </div>
            </section>

            <Footer />
        </div>
    );
};

export default TecoTecoPage;