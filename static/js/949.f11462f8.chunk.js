"use strict";(self.webpackChunkasyncsite_frontend=self.webpackChunkasyncsite_frontend||[]).push([[949],{930:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(555),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(43),_DeductionGame_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(275),_ai_GameManager__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(719),_ai_PlayerFactory__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(331),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(579);const DeductionGame=()=>{const[guideSlideIndex,setGuideSlideIndex]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),[isGuideModalOpen,setIsGuideModalOpen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[currentScreen,setCurrentScreen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("mode-selection"),[gameMode,setGameMode]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("solo"),[playerCount,setPlayerCount]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(2),[players,setPlayers]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[gameConfig,setGameConfig]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({keywordPoolSize:50,answerCount:5,hintCount:5,timeLimit:60,maxTurns:20,difficulty:"intermediate"}),[gameState,setGameState]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({keywords:[],answers:[],playerHints:{},isReady:!1,currentTurn:0,turnHistory:[],gameStatus:"playing",revealedAnswers:[],revealedWrongAnswers:[],hintsViewed:{}}),[preparationStep,setPreparationStep]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),[selectedKeywords,setSelectedKeywords]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[timeRemaining,setTimeRemaining]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),[isMyTurn,setIsMyTurn]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[hintViewingPhase,setHintViewingPhase]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[currentViewingPlayer,setCurrentViewingPlayer]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),[timerIntervalId,setTimerIntervalId]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[isSubmitting,setIsSubmitting]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[aiTimeoutId,setAiTimeoutId]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[soloDifficulty,setSoloDifficulty]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("medium"),[isAIThinking,setIsAIThinking]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),gameManagerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[turnStartTime,setTurnStartTime]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),[codeEditorModal,setCodeEditorModal]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({isOpen:!1,playerId:null}),[globalHintsEnabled,setGlobalHintsEnabled]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0),[isModalExpanded,setIsModalExpanded]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[testResults,setTestResults]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[isTestRunning,setIsTestRunning]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[testResultIdCounter,setTestResultIdCounter]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),handleModeSelect=e=>{setGameMode(e),"solo"===e?setCurrentScreen("difficulty-selection"):(setPlayers([]),setCurrentScreen("player-setup"))},handleDifficultySelect=e=>{setSoloDifficulty(e),setPlayerCount(2),setPlayers([{id:1,nickname:"",type:"human",aiLanguage:"javascript"},{id:2,nickname:"AI (".concat("easy"===e?"\uc26c\uc6c0":"medium"===e?"\ubcf4\ud1b5":"\uc5b4\ub824\uc6c0",")"),type:"built-in-ai",aiDifficulty:e}]),setCurrentScreen("player-setup")},handlePlayerCountSelect=e=>{setPlayerCount(e);const t=[];for(let s=1;s<=e;s++)t.push({id:s,nickname:"",type:"human",aiLanguage:"javascript"});setPlayers(t)},updatePlayer=(e,t)=>{setPlayers((s=>s.map((s=>s.id===e?(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},s),t):s))))},canStartGame=()=>players.every((e=>{var t;return!!e.nickname.trim()&&!!("custom-ai"!==e.type||null!==(t=e.aiCode)&&void 0!==t&&t.trim())})),handleStartGame=()=>{console.log("Moving to game config with players:",players),setCurrentScreen("game-config")},handleConfigComplete=()=>{console.log("Game config complete:",gameConfig),setPreparationStep(0),setCurrentScreen("game-preparation"),initializeGame()},keywordCategories={animals:["\uc0ac\uc790","\ud638\ub791\uc774","\ucf54\ub07c\ub9ac","\uae30\ub9b0","\uc6d0\uc22d\uc774","\ucf54\uc54c\ub77c","\ud310\ub2e4","\ud3ad\uadc4","\ub3c5\uc218\ub9ac","\uc0c1\uc5b4","\uace0\ub798","\ub3cc\uace0\ub798","\ud1a0\ub07c","\uace0\uc591\uc774","\uac15\uc544\uc9c0","\ub9d0","\uc18c","\ub3fc\uc9c0","\uc591","\uc5fc\uc18c"],foods:["\ud53c\uc790","\ud584\ubc84\uac70","\uc2a4\ud30c\uac8c\ud2f0","\ucd08\ubc25","\uae40\uce58\ucc0c\uac1c","\ubd88\uace0\uae30","\uce58\ud0a8","\ub77c\uba74","\ub5a1\ubcf6\uc774","\uae40\ubc25","\uc0d0\ub7ec\ub4dc","\uc2a4\ud14c\uc774\ud06c","\uce74\ub808","\uc6b0\ub3d9","\ub0c9\uba74","\ube44\ube54\ubc25","\uac08\ube44","\uc0bc\uacb9\uc0b4","\ud68c","\uc871\ubc1c"],objects:["\ucef4\ud4e8\ud130","\uc2a4\ub9c8\ud2b8\ud3f0","\uc790\ub3d9\ucc28","\ube44\ud589\uae30","\uae30\ucc28","\uc790\uc804\uac70","\ucc45","\uc5f0\ud544","\uac00\ubc29","\uc2dc\uacc4","\uc548\uacbd","\ubaa8\uc790","\uc2e0\ubc1c","\uc637","\uce68\ub300","\uc758\uc790","\ucc45\uc0c1","\ub0c9\uc7a5\uace0","\uc138\ud0c1\uae30","\ud154\ub808\ube44\uc804"],places:["\ud559\uad50","\ubcd1\uc6d0","\uc740\ud589","\uce74\ud398","\uc2dd\ub2f9","\uacf5\uc6d0","\ud574\ubcc0","\uc0b0","\ub3c4\uc11c\uad00","\ubc15\ubb3c\uad00","\uc601\ud654\uad00","\uc1fc\ud551\ubab0","\uc2dc\uc7a5","\uad50\ud68c","\uc9c0\ud558\ucca0\uc5ed","\uacf5\ud56d","\ud638\ud154","\uc9d1","\ud68c\uc0ac","\uccb4\uc721\uad00"],actions:["\uac77\uae30","\ub6f0\uae30","\uc218\uc601","\ucda4\ucd94\uae30","\ub178\ub798\ud558\uae30","\uc694\ub9ac\ud558\uae30","\uacf5\ubd80\ud558\uae30","\uc6b4\uc804\ud558\uae30","\uadf8\ub9bc\uadf8\ub9ac\uae30","\uae00\uc4f0\uae30","\uc77d\uae30","\uc7a0\uc790\uae30","\uba39\uae30","\ub9c8\uc2dc\uae30","\uc6c3\uae30","\uc6b8\uae30","\uc0dd\uac01\ud558\uae30","\ub9d0\ud558\uae30","\ub4e3\uae30","\ubcf4\uae30"]},generateKeywords=e=>[...Object.values(keywordCategories).flat()].sort((()=>Math.random()-.5)).slice(0,e),initializeGame=async()=>{setPreparationStep(1),await new Promise((e=>setTimeout(e,1e3)));const e=generateKeywords(gameConfig.keywordPoolSize);setPreparationStep(2),await new Promise((e=>setTimeout(e,1e3)));const t=[],s=Array.from({length:e.length},((e,t)=>t)).sort((()=>Math.random()-.5));for(let r=0;r<gameConfig.answerCount;r++)t.push(s[r]);setPreparationStep(3),await new Promise((e=>setTimeout(e,1e3)));const n={},_=s.filter((e=>!t.includes(e)));players.forEach((e=>{const t=[],s=[..._].sort((()=>Math.random()-.5));for(let n=0;n<gameConfig.hintCount&&n<s.length;n++)t.push(s[n]);n[e.id]=t})),setPreparationStep(4),await new Promise((e=>setTimeout(e,1e3))),setGameState({keywords:e,answers:t,playerHints:n,isReady:!0,currentTurn:0,turnHistory:[],gameStatus:"playing",revealedAnswers:[],revealedWrongAnswers:[],hintsViewed:{}}),setPreparationStep(5)},startActualGame=()=>{const e=new _ai_GameManager__WEBPACK_IMPORTED_MODULE_2__.C({keywordPoolSize:gameConfig.keywordPoolSize,answerCount:gameConfig.answerCount,hintCount:gameConfig.hintCount,timeLimit:gameConfig.timeLimit,maxTurns:gameConfig.maxTurns,globalHintsEnabled:globalHintsEnabled}),t=players.map((e=>{const t={id:e.id,nickname:e.nickname,type:e.type,aiDifficulty:e.aiDifficulty,customCode:e.aiCode,customLanguage:e.aiLanguage};return _ai_PlayerFactory__WEBPACK_IMPORTED_MODULE_3__.y.createPlayer(t)}));e.setPlayers(t),e.setEventHandlers({onTurnStart:t=>{const s=t.getInfo();setIsMyTurn("human"===s.type),setTurnStartTime(Date.now());const n=e.getGameContext();setGameState((e=>(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},e),{},{currentTurn:n.currentTurn})))},onTurnEnd:t=>{setIsAIThinking(!1);const s=e.getGameContext();setGameState((e=>(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},e),{},{turnHistory:[...e.turnHistory,t],revealedWrongAnswers:s.revealedWrongAnswers})))},onGameEnd:e=>{if(e){const t=e.getInfo();setGameState((e=>(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},e),{},{gameStatus:"finished",winner:t.id})))}else setGameState((e=>(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},e),{},{gameStatus:"finished"})))},onTimerTick:e=>{setTimeRemaining(e)},onAIThinking:e=>{setIsAIThinking(e)}}),gameManagerRef.current=e,setHintViewingPhase(!0),setCurrentViewingPlayer(1),setCurrentScreen("game")},startTimer=()=>{if(gameManagerRef.current)return;clearTimer(),setTurnStartTime(Date.now()),setTimeRemaining(gameConfig.timeLimit);const e=setInterval((()=>{setTimeRemaining((t=>t<=1?(clearInterval(e),setTimerIntervalId(null),setTimeout((()=>{handleTimeUp()}),0),0):t-1))}),1e3);setTimerIntervalId(e)},clearTimer=()=>{timerIntervalId&&(clearInterval(timerIntervalId),setTimerIntervalId(null))},handleTimeUp=()=>{const e=[...gameState.keywords.map(((e,t)=>t)).filter((e=>!gameState.revealedWrongAnswers.includes(e)))].sort((()=>Math.random()-.5)).slice(0,gameConfig.answerCount);setSelectedKeywords(e),setTimeout((()=>{submitGuessWithSelection(e)}),500)},runAICodeTest=async(aiCode,language)=>{setIsTestRunning(!0);try{try{new Function(aiCode)}catch(e){const t={id:testResultIdCounter,success:!1,message:"\ubb38\ubc95 \uc624\ub958",details:{error:e.message}};return setTestResultIdCounter((e=>e+1)),setTestResults((e=>[...e,t])),void setTimeout((()=>{setTestResults((e=>e.map((e=>e.id===t.id?(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},e),{},{isFading:!0}):e)))),setTimeout((()=>{setTestResults((e=>e.filter((e=>e.id!==t.id))))}),500)}),2e3)}if(!aiCode.includes("function makeGuess")&&!aiCode.includes("makeGuess =")){const e={id:testResultIdCounter,success:!1,message:"makeGuess \ud568\uc218\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4",details:{tip:"function makeGuess(gameState) { ... } \ud615\uc2dd\uc73c\ub85c \uc791\uc131\ud574\uc8fc\uc138\uc694"}};return setTestResultIdCounter((e=>e+1)),setTestResults((t=>[...t,e])),void setTimeout((()=>{setTestResults((t=>t.map((t=>t.id===e.id?(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},t),{},{isFading:!0}):t)))),setTimeout((()=>{setTestResults((t=>t.filter((t=>t.id!==e.id))))}),500)}),2e3)}const testCode="\n        ".concat(aiCode,"\n        \n        // \ud14c\uc2a4\ud2b8 \uc2e4\ud589\n        (function() {\n          try {\n            if (typeof makeGuess !== 'function') {\n              throw new Error('makeGuess \ud568\uc218\uac00 \uc815\uc758\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4');\n            }\n            \n            // \ub2e4\uc591\ud55c \ud06c\uae30\uc758 \ud14c\uc2a4\ud2b8 \ub370\uc774\ud130\n            const testCases = [\n              {\n                keywords: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T'],\n                myHints: [0, 3, 7],\n                answerCount: 4,\n                previousGuesses: [],\n                revealedAnswers: [],\n                revealedWrongAnswers: [15, 18],\n                currentTurn: 1,\n                timeLimit: 60\n              },\n              {\n                keywords: ['\uc0ac\uc790', '\ud638\ub791\uc774', '\ucf54\ub07c\ub9ac', '\uae30\ub9b0', '\uc6d0\uc22d\uc774', '\ud310\ub2e4', '\ucf54\uc54c\ub77c', '\ud3ad\uadc4', '\ub3c5\uc218\ub9ac', '\uc0c1\uc5b4'],\n                myHints: [0, 2, 5],\n                answerCount: 3,\n                previousGuesses: [{ playerId: 1, guess: [1, 3, 4], correctCount: 1 }],\n                revealedAnswers: [],\n                revealedWrongAnswers: [9],\n                currentTurn: 2,\n                timeLimit: 60\n              },\n              {\n                keywords: Array.from({length: 50}, (_, i) => `\ud0a4\uc6cc\ub4dc${i+1}`),\n                myHints: [0, 5, 10, 15, 20],\n                answerCount: 5,\n                previousGuesses: [],\n                revealedAnswers: [25],\n                revealedWrongAnswers: [1, 2, 3, 4],\n                currentTurn: 1,\n                timeLimit: 60\n              }\n            ];\n            \n            let totalTime = 0;\n            const executionTimes = [];\n            \n            // \uac01 \ud14c\uc2a4\ud2b8 \ucf00\uc774\uc2a4\ub97c 10\ubc88\uc529 \uc2e4\ud589\ud558\uc5ec \ud3c9\uade0 \uc131\ub2a5 \uce21\uc815\n            for (let i = 0; i < testCases.length; i++) {\n              const testCase = testCases[i];\n              \n              for (let j = 0; j < 10; j++) {\n                const startTime = performance.now();\n                const result = makeGuess(testCase);\n                const endTime = performance.now();\n                const execTime = endTime - startTime;\n                \n                executionTimes.push(execTime);\n                totalTime += execTime;\n                \n                // \uae30\ubcf8 \uac80\uc99d\n                if (!Array.isArray(result)) {\n                  throw new Error('\ubc18\ud658\uac12\uc774 \ubc30\uc5f4\uc774 \uc544\ub2d9\ub2c8\ub2e4');\n                }\n                \n                if (result.length !== testCase.answerCount) {\n                  throw new Error(`\uc798\ubabb\ub41c \uac1c\uc218\uc758 \uc120\ud0dd (\uae30\ub300: ${testCase.answerCount}, \uc2e4\uc81c: ${result.length})`);\n                }\n                \n                // \uc720\ud6a8\uc131 \uac80\uc0ac\n                for (const idx of result) {\n                  if (typeof idx !== 'number' || !Number.isInteger(idx)) {\n                    throw new Error(`\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc778\ub371\uc2a4: ${idx}`);\n                  }\n                  if (idx < 0 || idx >= testCase.keywords.length) {\n                    throw new Error(`\ubc94\uc704\ub97c \ubc97\uc5b4\ub09c \uc778\ub371\uc2a4: ${idx}`);\n                  }\n                  if (testCase.myHints.includes(idx)) {\n                    throw new Error(`\ud78c\ud2b8\ub85c \ubc1b\uc740 \ud0a4\uc6cc\ub4dc\ub97c \uc120\ud0dd\ud588\uc2b5\ub2c8\ub2e4 (\uc778\ub371\uc2a4: ${idx})`);\n                  }\n                }\n                \n                // \uc911\ubcf5 \uac80\uc0ac\n                const uniqueSet = new Set(result);\n                if (uniqueSet.size !== result.length) {\n                  throw new Error('\uc911\ubcf5\ub41c \uc120\ud0dd\uc774 \uc788\uc2b5\ub2c8\ub2e4');\n                }\n              }\n            }\n            \n            // \ud3c9\uade0 \uc2e4\ud589 \uc2dc\uac04 \uacc4\uc0b0\n            const avgTime = totalTime / executionTimes.length;\n            const maxTime = Math.max(...executionTimes);\n            const minTime = Math.min(...executionTimes);\n            \n            // \uccab \ubc88\uc9f8 \ud14c\uc2a4\ud2b8\uc758 \uacb0\uacfc\ub97c \uc0d8\ud50c\ub85c \ubc18\ud658\n            const sampleResult = makeGuess(testCases[0]);\n            \n            return { \n              success: true, \n              result: sampleResult, \n              keywords: sampleResult.map(idx => testCases[0].keywords[idx]),\n              performance: {\n                avgTime: avgTime.toFixed(3),\n                minTime: minTime.toFixed(3),\n                maxTime: maxTime.toFixed(3),\n                totalRuns: executionTimes.length\n              }\n            };\n          } catch (error) {\n            return { success: false, error: error.message };\n          }\n        })()\n      "),startTime=Date.now();let testResult;try{testResult=eval(testCode)}catch(e){testResult={success:!1,error:e.message}}const executionTime=Date.now()-startTime;if(testResult&&testResult.success){const e=parseFloat(testResult.performance.avgTime),t=e<.5?"\ub9e4\uc6b0 \ube60\ub984":e<2?"\ube60\ub984":e<5?"\ubcf4\ud1b5":"\ub290\ub9bc",s={id:testResultIdCounter,success:!0,message:"\ud14c\uc2a4\ud2b8 \ud1b5\uacfc! AI \ucf54\ub4dc\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \uc791\ub3d9\ud569\ub2c8\ub2e4.",details:{executionTime:"".concat(executionTime,"ms"),selectedKeywords:testResult.keywords.join(", "),selectedIndices:testResult.result,performance:testResult.performance,speedLevel:t}};setTestResultIdCounter((e=>e+1)),setTestResults((e=>[...e,s])),setTimeout((()=>{setTestResults((e=>e.map((e=>e.id===s.id?(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},e),{},{isFading:!0}):e)))),setTimeout((()=>{setTestResults((e=>e.filter((e=>e.id!==s.id))))}),500)}),2e3)}else{var _testResult;const e={id:testResultIdCounter,success:!1,message:"\ud14c\uc2a4\ud2b8 \uc2e4\ud328",details:{error:(null===(_testResult=testResult)||void 0===_testResult?void 0:_testResult.error)||"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958"}};setTestResultIdCounter((e=>e+1)),setTestResults((t=>[...t,e])),setTimeout((()=>{setTestResults((t=>t.map((t=>t.id===e.id?(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},t),{},{isFading:!0}):t)))),setTimeout((()=>{setTestResults((t=>t.filter((t=>t.id!==e.id))))}),500)}),2e3)}}catch(error){const e={id:testResultIdCounter,success:!1,message:"\ud14c\uc2a4\ud2b8 \uc2e4\ud589 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4",details:{error:error instanceof Error?error.message:String(error)}};setTestResultIdCounter((e=>e+1)),setTestResults((t=>[...t,e])),setTimeout((()=>{setTestResults((t=>t.map((t=>t.id===e.id?(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},t),{},{isFading:!0}):t)))),setTimeout((()=>{setTestResults((t=>t.filter((t=>t.id!==e.id))))}),500)}),2e3)}finally{setIsTestRunning(!1)}},exitGame=()=>{clearTimer(),aiTimeoutId&&(clearTimeout(aiTimeoutId),setAiTimeoutId(null)),gameManagerRef.current&&(gameManagerRef.current.stopGame(),gameManagerRef.current=null),setCurrentScreen("mode-selection"),setGameState({keywords:[],answers:[],playerHints:{},isReady:!1,currentTurn:0,turnHistory:[],gameStatus:"playing",revealedAnswers:[],revealedWrongAnswers:[],hintsViewed:{}}),setSelectedKeywords([]),setTimeRemaining(0),setIsMyTurn(!1),setIsAIThinking(!1),setHintViewingPhase(!1),setCurrentViewingPlayer(0),setIsSubmitting(!1)},handleGlobalHintsToggle=()=>{const e=!globalHintsEnabled;if(setGlobalHintsEnabled(e),gameManagerRef.current){gameManagerRef.current.setGlobalHintsEnabled(e);const t=gameManagerRef.current.getGameContext();setGameState((e=>(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},e),{},{revealedWrongAnswers:[...t.revealedWrongAnswers]})))}},revealAnswerHint=()=>{if(gameManagerRef.current){if(gameManagerRef.current.revealAnswer()){const e=gameManagerRef.current.getGameContext();setGameState((t=>(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},t),{},{revealedAnswers:e.revealedAnswers})))}}else{const e=gameState.answers.filter((e=>!gameState.revealedAnswers.includes(e)));if(e.length>0){const t=e[Math.floor(Math.random()*e.length)];setGameState((e=>(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},e),{},{revealedAnswers:[...e.revealedAnswers,t]})))}}},revealWrongHint=()=>{if(gameManagerRef.current){if(gameManagerRef.current.revealWrongAnswer()){const e=gameManagerRef.current.getGameContext();setGameState((t=>(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},t),{},{revealedWrongAnswers:e.revealedWrongAnswers})))}}else{const e=gameState.keywords.map(((e,t)=>t)).filter((e=>!gameState.answers.includes(e)&&!gameState.revealedWrongAnswers.includes(e)));if(e.length>0){const t=e[Math.floor(Math.random()*e.length)];setGameState((e=>(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},e),{},{revealedWrongAnswers:[...e.revealedWrongAnswers,t]})))}}},toggleKeywordSelection=e=>{setSelectedKeywords((t=>t.includes(e)?t.filter((t=>t!==e)):t.length<gameConfig.answerCount?[...t,e]:t))},submitGuess=async()=>{if(selectedKeywords.length===gameConfig.answerCount&&!isSubmitting)if(gameManagerRef.current){setIsSubmitting(!0);try{await gameManagerRef.current.submitHumanGuess(selectedKeywords),setSelectedKeywords([])}catch(e){console.error("Failed to submit guess:",e)}finally{setIsSubmitting(!1)}}else submitGuessWithSelection(selectedKeywords)},submitGuessWithSelection=e=>{if(gameManagerRef.current)return;if(isSubmitting)return;setIsSubmitting(!0),clearTimer();const t=e.filter((e=>gameState.answers.includes(e))).length,s=t===gameConfig.answerCount&&e.every((e=>gameState.answers.includes(e))),n=(gameState.currentTurn-1)%players.length+1,_=players.find((e=>e.id===n)),r=turnStartTime?Math.round((Date.now()-turnStartTime)/1e3):gameConfig.timeLimit-timeRemaining,a={playerId:n,playerName:(null===_||void 0===_?void 0:_.nickname)||"\ud50c\ub808\uc774\uc5b4 ".concat(n),guess:[...e],guessKeywords:e.map((e=>gameState.keywords[e])),correctCount:t,turnNumber:gameState.currentTurn,timeUsed:r},i=gameConfig.maxTurns&&gameState.currentTurn>=gameConfig.maxTurns;setGameState((e=>(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},e),{},{turnHistory:[...e.turnHistory,a],currentTurn:e.currentTurn+1,gameStatus:s||i?"finished":"playing",winner:s?n:void 0}))),setSelectedKeywords([]),s||i||setTimeout((()=>{startTimer()}),100),setTimeout((()=>{setIsSubmitting(!1)}),500)},getCurrentPlayer=()=>{if(gameManagerRef.current){const e=gameManagerRef.current.getCurrentPlayer();if(e){const t=e.getInfo();return players.find((e=>e.id===t.id))}}const e=(gameState.currentTurn-1)%players.length+1;return players.find((t=>t.id===e))},isGameOver=()=>"finished"===gameState.gameStatus||gameConfig.maxTurns&&gameState.currentTurn>gameConfig.maxTurns,difficultyPresets={beginner:{keywordPoolSize:30,answerCount:3,hintCount:5,timeLimit:90,maxTurns:15},intermediate:{keywordPoolSize:50,answerCount:5,hintCount:5,timeLimit:60,maxTurns:20},advanced:{keywordPoolSize:80,answerCount:7,hintCount:4,timeLimit:45,maxTurns:25}},applyPreset=e=>{const t=difficultyPresets[e];setGameConfig((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},t),{},{difficulty:e}))},updateGameConfig=e=>{setGameConfig((t=>(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},t),e),{},{difficulty:"custom"})))};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>()=>{clearTimer(),aiTimeoutId&&clearTimeout(aiTimeoutId)}),[]);const renderCodeEditorModal=()=>{if(!codeEditorModal.isOpen||!codeEditorModal.playerId)return null;const e=players.find((e=>e.id===codeEditorModal.playerId));return e?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"modal-overlay",onClick:()=>{setCodeEditorModal({isOpen:!1,playerId:null}),setIsModalExpanded(!1)},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"modal-content code-editor-modal ".concat(isModalExpanded?"expanded":""),onClick:e=>e.stopPropagation(),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"modal-header",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("h3",{children:[e.nickname," AI \ucf54\ub4dc \uc5d0\ub514\ud130"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"modal-header-actions",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"modal-expand-btn",onClick:()=>setIsModalExpanded(!isModalExpanded),title:isModalExpanded?"\uae30\ubcf8 \ud06c\uae30\ub85c":"\uc804\uccb4 \ud654\uba74 \ubaa8\ub4dc",children:isModalExpanded?"\u2199":"\u2197"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"modal-close",onClick:()=>{setCodeEditorModal({isOpen:!1,playerId:null}),setIsModalExpanded(!1)},children:"\xd7"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"code-editor-container",style:{position:"relative"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"editor-toolbar",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"editor-left",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"editor-info",children:"\ucf54\ub4dc \uc791\uc131"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"language-selector",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"lang-btn ".concat("javascript"===e.aiLanguage?"active":""),onClick:()=>updatePlayer(e.id,{aiLanguage:"javascript"}),children:"JavaScript"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"lang-btn ".concat("typescript"===e.aiLanguage?"active":""),onClick:()=>updatePlayer(e.id,{aiLanguage:"typescript"}),children:"TypeScript"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"editor-actions",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-small",onClick:()=>{updatePlayer(e.id,{aiCode:""}),setTestResults([])},children:"\ucd08\uae30\ud654"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-small",onClick:()=>{const t="typescript"===e.aiLanguage?"// AI \uc804\ub7b5 \ud568\uc218 (TypeScript)\ninterface GameState {\n  keywords: string[];\n  myHints: number[];\n  answerCount: number;\n  previousGuesses: { playerId: number; guess: number[]; correctCount: number }[];\n  revealedAnswers: number[];\n  revealedWrongAnswers: number[];\n  currentTurn: number;\n  timeLimit: number;\n}\n\nfunction makeGuess(gameState: GameState): number[] {\n  const { keywords, myHints, previousGuesses, revealedAnswers, revealedWrongAnswers, answerCount } = gameState;\n  \n  // \uac00\ub2a5\ud55c \ud0a4\uc6cc\ub4dc \uc778\ub371\uc2a4 \ubaa9\ub85d (\ud78c\ud2b8\uc640 \uacf5\uac1c\ub41c \uc624\ub2f5 \uc81c\uc678)\n  const availableIndices: number[] = keywords\n    .map((_, index) => index)\n    .filter(idx => !revealedWrongAnswers.includes(idx) && !myHints.includes(idx));\n  \n  // \uc774\ubbf8 \uacf5\uac1c\ub41c \uc815\ub2f5 \uc6b0\uc120 \uc120\ud0dd\n  const selectedIndices: number[] = [...revealedAnswers];\n  \n  // \ub098\uba38\uc9c0\ub294 \ub79c\ub364 \uc120\ud0dd\n  while (selectedIndices.length < answerCount) {\n    const remaining = availableIndices.filter(idx => !selectedIndices.includes(idx));\n    if (remaining.length === 0) break;\n    \n    const randomIdx = remaining[Math.floor(Math.random() * remaining.length)];\n    selectedIndices.push(randomIdx);\n  }\n  \n  return selectedIndices;\n}":"// AI \uc804\ub7b5 \ud568\uc218 (JavaScript)\nfunction makeGuess(gameState) {\n  const { keywords, myHints, previousGuesses, revealedAnswers, revealedWrongAnswers, answerCount } = gameState;\n  \n  // \uac00\ub2a5\ud55c \ud0a4\uc6cc\ub4dc \uc778\ub371\uc2a4 \ubaa9\ub85d (\ud78c\ud2b8\uc640 \uacf5\uac1c\ub41c \uc624\ub2f5 \uc81c\uc678)\n  const availableIndices = keywords\n    .map((_, index) => index)\n    .filter(idx => !revealedWrongAnswers.includes(idx) && !myHints.includes(idx));\n  \n  // \uc774\ubbf8 \uacf5\uac1c\ub41c \uc815\ub2f5 \uc6b0\uc120 \uc120\ud0dd\n  const selectedIndices = [...revealedAnswers];\n  \n  // \ub098\uba38\uc9c0\ub294 \ub79c\ub364 \uc120\ud0dd\n  while (selectedIndices.length < answerCount) {\n    const remaining = availableIndices.filter(idx => !selectedIndices.includes(idx));\n    if (remaining.length === 0) break;\n    \n    const randomIdx = remaining[Math.floor(Math.random() * remaining.length)];\n    selectedIndices.push(randomIdx);\n  }\n  \n  return selectedIndices;\n}";updatePlayer(e.id,{aiCode:t})},children:"\uc608\uc81c \ucf54\ub4dc"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-small btn-test",onClick:()=>{e.aiCode&&runAICodeTest(e.aiCode,e.aiLanguage||"javascript")},disabled:!e.aiCode||isTestRunning,children:isTestRunning?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:["\ud14c\uc2a4\ud2b8 \uc911",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"loading-dots"})]}):"\ud14c\uc2a4\ud2b8 \uc2e4\ud589"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"editor-wrapper",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"line-numbers",onScroll:e=>{const t=e.currentTarget.nextElementSibling;t&&(t.scrollTop=e.currentTarget.scrollTop)},children:((e.aiCode||"")+"\n").split("\n").map(((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"line-number",children:t+1},t)))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("textarea",{className:"code-editor",value:e.aiCode||"",onChange:t=>updatePlayer(e.id,{aiCode:t.target.value}),onScroll:e=>{const t=e.currentTarget.previousElementSibling;t&&(t.scrollTop=e.currentTarget.scrollTop)},placeholder:"typescript"===e.aiLanguage?"// TypeScript AI \uc804\ub7b5 \ucf54\ub4dc\ub97c \uc791\uc131\ud558\uc138\uc694\n// \ud0c0\uc785 \uc815\uc758\uc640 \ud568\uaed8 \uc791\uc131\ud574\uc8fc\uc138\uc694":"// JavaScript AI \uc804\ub7b5 \ucf54\ub4dc\ub97c \uc791\uc131\ud558\uc138\uc694\n// function makeGuess(gameState) { ... }",spellCheck:!1})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"test-results-container",children:testResults.map((e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"test-result-panel ".concat(e.success?"success":"error"," ").concat(e.isFading?"fade-out":""),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"test-result-header",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:e.success?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"success-icon"}),"\ud14c\uc2a4\ud2b8 \uc131\uacf5"]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"error-icon"}),"\ud14c\uc2a4\ud2b8 \uc2e4\ud328"]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"close-result",onClick:()=>{setTestResults((t=>t.filter((t=>t.id!==e.id))))},children:"\xd7"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"test-result-message",children:e.message}),e.details&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"test-result-details",children:e.success?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:["\uc0d8\ud50c \uc120\ud0dd: ",e.details.selectedKeywords]}),e.details.performance&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:{marginTop:"10px",borderTop:"1px solid rgba(255,255,255,0.2)",paddingTop:"10px"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("strong",{children:"\uc131\ub2a5 \uce21\uc815 \uacb0\uacfc"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{style:{marginTop:"5px"},children:["\ud3c9\uade0 \uc2e4\ud589 \uc2dc\uac04: ",e.details.performance.avgTime,"ms (",e.details.speedLevel,")"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:["\ucd5c\uc18c/\ucd5c\ub300: ",e.details.performance.minTime,"ms / ",e.details.performance.maxTime,"ms"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:{fontSize:"0.85em",color:"rgba(255,255,255,0.7)",marginTop:"5px"},children:"* 30\ud68c \uc2e4\ud589 (3\uac00\uc9c0 \ud06c\uae30\uc758 \ub370\uc774\ud130 \xd7 10\ud68c)"})]})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("pre",{children:JSON.stringify(e.details,null,2)})})]},e.id)))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"editor-footer",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"code-stats",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:["\uc904: ",(e.aiCode||"").split("\n").length]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:["\ubb38\uc790: ",(e.aiCode||"").length]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn-large btn-primary",onClick:()=>{setCodeEditorModal({isOpen:!1,playerId:null}),setIsModalExpanded(!1),setTestResults([])},children:"\uc800\uc7a5"})]})]})]})}):null},renderModeSelection=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-screen mode-selection",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"guide-link-container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{onClick:()=>setIsGuideModalOpen(!0),className:"guide-link",children:["?",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{children:"\uac8c\uc784 \ubc29\ubc95"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{style:{marginTop:"60px"},children:"\uac8c\uc784 \ubaa8\ub4dc\ub97c \uc120\ud0dd\ud558\uc138\uc694"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mode-cards",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mode-card",onClick:()=>handleModeSelect("solo"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h3",{children:"\uac1c\uc778\uc804"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("p",{children:["AI\uc640 1:1 \ub300\uacb0\ud558\ub294 \ubaa8\ub4dc\uc785\ub2c8\ub2e4.",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("br",{}),"\ub09c\uc774\ub3c4\ub97c \uc120\ud0dd\ud560 \uc218 \uc788\uc5b4\uc694."]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mode-card",onClick:()=>handleModeSelect("multi"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h3",{children:"\uba40\ud2f0\ud50c\ub808\uc774"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("p",{children:["2~6\uba85\uc774 \ud568\uaed8 \ud50c\ub808\uc774\ud558\ub294 \ubaa8\ub4dc\uc785\ub2c8\ub2e4.",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("br",{}),"\uce5c\uad6c\ub4e4\uacfc \ud568\uaed8 \uc990\uaca8\ubcf4\uc138\uc694."]})]})]})]}),renderDifficultySelection=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-screen difficulty-selection",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"back-button-container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn-large btn-secondary",onClick:()=>setCurrentScreen("mode-selection"),children:"\u2190 \ub4a4\ub85c\uac00\uae30"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{children:"AI \ub09c\uc774\ub3c4\ub97c \uc120\ud0dd\ud558\uc138\uc694"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"difficulty-cards",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"difficulty-card",onClick:()=>handleDifficultySelect("easy"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h3",{children:"\ud83c\udf31 \uc26c\uc6c0"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("p",{children:["AI\uac00 \ubb34\uc791\uc704\ub85c \ud0a4\uc6cc\ub4dc\ub97c \uc120\ud0dd\ud569\ub2c8\ub2e4.",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("br",{}),"\ud3b8\uc548\ud558\uac8c \uac8c\uc784\uc744 \uc990\uae30\uc138\uc694."]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"difficulty-card",onClick:()=>handleDifficultySelect("medium"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h3",{children:"\ud83c\udf3f \ubcf4\ud1b5"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("p",{children:["AI\uac00 \uacf5\uac1c\ub41c \uc815\ub2f5\uc744 \ud65c\uc6a9\ud569\ub2c8\ub2e4.",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("br",{}),"\uc801\ub2f9\ud55c \ub3c4\uc804\uc744 \uc6d0\ud55c\ub2e4\uba74 \uc120\ud0dd\ud558\uc138\uc694."]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"difficulty-card",onClick:()=>handleDifficultySelect("hard"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h3",{children:"\ud83c\udf33 \uc5b4\ub824\uc6c0"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("p",{children:["AI\uac00 \uc774\uc804 \ucd94\uce21\uc744 \ubd84\uc11d\ud569\ub2c8\ub2e4.",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("br",{}),"\uc9c4\uc815\ud55c \uc2e4\ub825\uc744 \uc2dc\ud5d8\ud574\ubcf4\uc138\uc694."]})]})]})]}),renderPlayerSetup=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-screen",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"back-button-container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn-large btn-secondary",onClick:()=>setCurrentScreen("solo"===gameMode?"difficulty-selection":"mode-selection"),children:"\u2190 \ub4a4\ub85c\uac00\uae30"})}),"multi"===gameMode&&0===players.length&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"form-section",style:{marginTop:"60px"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{style:{textAlign:"center"},children:"\ud50c\ub808\uc774\uc5b4 \uc218\ub97c \uc120\ud0dd\ud558\uc138\uc694"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"btn-group",style:{justifyContent:"center",marginTop:"40px"},children:[2,3,4,5,6].map((e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{className:"btn-large btn-secondary",onClick:()=>handlePlayerCountSelect(e),children:[e,"\uba85"]},e)))})]}),players.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{style:{textAlign:"center",marginTop:"60px"},children:"solo"===gameMode?"\ud50c\ub808\uc774\uc5b4 \uc124\uc815":"".concat(playerCount,"\uba85 \ud50c\ub808\uc774\uc5b4 \uc124\uc815")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"players-grid",children:players.filter((e=>"solo"!==gameMode||1===e.id)).map((e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"player-setup",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:"solo"===gameMode?"\ud50c\ub808\uc774\uc5b4":"\ud50c\ub808\uc774\uc5b4 ".concat(e.id)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"form-section",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",className:"input-field",placeholder:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694",value:e.nickname,onChange:t=>updatePlayer(e.id,{nickname:t.target.value}),maxLength:20})}),("multi"===gameMode||"solo"===gameMode&&1===e.id)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"form-section",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"radio-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"radio-option",onClick:()=>updatePlayer(e.id,{type:"human",aiCode:""}),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"radio",id:"human-".concat(e.id),name:"playerType-".concat(e.id),value:"human",checked:"human"===e.type,onChange:()=>updatePlayer(e.id,{type:"human",aiCode:""})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{htmlFor:"human-".concat(e.id),children:"\uc778\uac04"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"radio-option",onClick:()=>{updatePlayer(e.id,{type:"custom-ai"}),setCodeEditorModal({isOpen:!0,playerId:e.id})},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"radio",id:"ai-".concat(e.id),name:"playerType-".concat(e.id),value:"custom-ai",checked:"custom-ai"===e.type,onChange:()=>{updatePlayer(e.id,{type:"custom-ai"}),setCodeEditorModal({isOpen:!0,playerId:e.id})}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{htmlFor:"ai-".concat(e.id),children:"solo"===gameMode?"\ucee4\uc2a4\ud140 AI":"AI"})]})]})}),"custom-ai"===e.type&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"form-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{className:"btn-large btn-ai-code",onClick:()=>setCodeEditorModal({isOpen:!0,playerId:e.id}),style:{width:"100%"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"btn-ai-icon",children:"</>"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{children:e.aiCode?"AI \ucf54\ub4dc \uc218\uc815":"AI \ucf54\ub4dc \uc791\uc131"})]}),e.aiCode&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"code-preview",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("small",{children:["\ucf54\ub4dc\uac00 \uc791\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4 (",e.aiCode.split("\n").length,"\uc904)"]})})]})]},e.id)))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"setup-actions",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn-large btn-primary",onClick:handleStartGame,disabled:!canStartGame(),children:"\uac8c\uc784 \uc2dc\uc791"})})]})]}),renderGameConfig=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-screen",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"back-button-container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn-large btn-secondary",onClick:()=>setCurrentScreen("player-setup"),children:"\u2190 \ub4a4\ub85c\uac00\uae30"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{style:{textAlign:"center"},children:"\uac8c\uc784 \uc124\uc815"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"form-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h3",{style:{textAlign:"center"},children:"\ub09c\uc774\ub3c4 \ud504\ub9ac\uc14b"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"btn-group",style:{justifyContent:"center",flexWrap:"wrap"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn-large ".concat("beginner"===gameConfig.difficulty?"btn-primary":"btn-secondary"),onClick:()=>applyPreset("beginner"),children:"\ucd08\uae09"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn-large ".concat("intermediate"===gameConfig.difficulty?"btn-primary":"btn-secondary"),onClick:()=>applyPreset("intermediate"),children:"\uc911\uae09"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn-large ".concat("advanced"===gameConfig.difficulty?"btn-primary":"btn-secondary"),onClick:()=>applyPreset("advanced"),children:"\uace0\uae09"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"config-grid",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"config-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:"\ud0a4\uc6cc\ub4dc \ud480 \ud06c\uae30"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:"\uc804\uccb4 \ud0a4\uc6cc\ub4dc \uac1c\uc218"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"number-input-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-small",onClick:()=>updateGameConfig({keywordPoolSize:Math.max(20,gameConfig.keywordPoolSize-10)}),children:"-"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"number-display",children:[gameConfig.keywordPoolSize,"\uac1c"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-small",onClick:()=>updateGameConfig({keywordPoolSize:Math.min(100,gameConfig.keywordPoolSize+10)}),children:"+"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"config-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:"\uc815\ub2f5 \uac1c\uc218"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:"\ucc3e\uc544\uc57c \ud560 \uc815\ub2f5 \uc218"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"number-input-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-small",onClick:()=>updateGameConfig({answerCount:Math.max(2,gameConfig.answerCount-1)}),children:"-"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"number-display",children:[gameConfig.answerCount,"\uac1c"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-small",onClick:()=>updateGameConfig({answerCount:Math.min(15,gameConfig.answerCount+1)}),children:"+"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"config-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:"\ud78c\ud2b8 \uac1c\uc218"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:"\uac01 \ud50c\ub808\uc774\uc5b4\ubcc4 \uc624\ub2f5 \ud78c\ud2b8"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"number-input-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-small",onClick:()=>updateGameConfig({hintCount:Math.max(2,gameConfig.hintCount-1)}),children:"-"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"number-display",children:[gameConfig.hintCount,"\uac1c"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-small",onClick:()=>updateGameConfig({hintCount:Math.min(20,gameConfig.hintCount+1)}),children:"+"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"config-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:"\ud134 \uc81c\ud55c\uc2dc\uac04"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:"\uac01 \ud134\ub2f9 \uc2dc\uac04"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"number-input-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-small",onClick:()=>updateGameConfig({timeLimit:Math.max(15,gameConfig.timeLimit-15)}),children:"-"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"number-display",children:[gameConfig.timeLimit,"\ucd08"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-small",onClick:()=>updateGameConfig({timeLimit:Math.min(180,gameConfig.timeLimit+15)}),children:"+"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"config-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:"\ucd5c\ub300 \ud134 \uc218"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:"\uac8c\uc784 \uc885\ub8cc \uc870\uac74"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"number-input-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-small",onClick:()=>updateGameConfig({maxTurns:gameConfig.maxTurns?Math.max(5,gameConfig.maxTurns-5):15}),children:"-"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"number-display",children:gameConfig.maxTurns?"".concat(gameConfig.maxTurns,"\ud134"):"\ubb34\uc81c\ud55c"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-small",onClick:()=>updateGameConfig({maxTurns:gameConfig.maxTurns?Math.min(50,gameConfig.maxTurns+5):20}),children:"+"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-small",onClick:()=>updateGameConfig({maxTurns:gameConfig.maxTurns?void 0:20}),style:{marginTop:"10px"},children:gameConfig.maxTurns?"\ubb34\uc81c\ud55c\uc73c\ub85c \ubcc0\uacbd":"\uc81c\ud55c \uc124\uc815"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"difficulty-indicator",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:["\ud604\uc7ac \ub09c\uc774\ub3c4: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("strong",{children:"beginner"===gameConfig.difficulty?"\ucd08\uae09":"intermediate"===gameConfig.difficulty?"\uc911\uae09":"advanced"===gameConfig.difficulty?"\uace0\uae09":"\ucee4\uc2a4\ud140"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"setup-actions",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn-large btn-primary",onClick:handleConfigComplete,children:"\uc124\uc815 \uc644\ub8cc"})})]}),renderGamePreparation=()=>{const e=[{title:"\u2699\ufe0f \uac8c\uc784 \ucd08\uae30\ud654",description:"\uac8c\uc784 \ud658\uacbd\uc744 \uc124\uc815\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."},{title:"\ud83d\udcda \ud0a4\uc6cc\ub4dc \uc0dd\uc131",description:"".concat(gameConfig.keywordPoolSize,"\uac1c\uc758 \ud0a4\uc6cc\ub4dc\ub97c \uc0dd\uc131\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.")},{title:"\ud83c\udfaf \uc815\ub2f5 \uc120\ud0dd",description:"".concat(gameConfig.answerCount,"\uac1c\uc758 \uc815\ub2f5\uc744 \ubb34\uc791\uc704\ub85c \uc120\ud0dd\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.")},{title:"\ud83d\udca1 \ud78c\ud2b8 \ubc30\ud3ec",description:"\uac01 \ud50c\ub808\uc774\uc5b4\uc5d0\uac8c \uc624\ub2f5 \ud78c\ud2b8\ub97c \ubc30\ud3ec\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."},{title:"\u2705 \ucd5c\uc885 \ud655\uc778",description:"\uac8c\uc784 \uc900\ube44\ub97c \uc644\ub8cc\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"game-screen",children:preparationStep<5?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("h2",{children:["\uac8c\uc784 \uc900\ube44 \uc911",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"loading-dots"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"preparation-progress",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"progress-steps",children:e.map(((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"progress-step ".concat(t<preparationStep?"completed":t===preparationStep?"active":"pending"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"step-circle",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"step-number",children:t+1}),t<preparationStep?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"success-icon-overlay"}):t===preparationStep?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"loading-spinner"}):null]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"step-content",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:e.title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:e.description})]})]},t)))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"progress-bar-container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"progress-bar-fill",style:{width:"".concat(preparationStep/5*100,"%")}})})]})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{children:"\uac8c\uc784 \uc900\ube44 \uc644\ub8cc!"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-summary",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"summary-grid",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"summary-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:"\ucc38\uac00\uc790"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"player-chips",children:players.map((e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"player-chip",children:[e.nickname," (","built-in-ai"===e.type?"AI":"custom-ai"===e.type?"Custom AI":"\uc778\uac04",")"]},e.id)))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"summary-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:"\uac8c\uc784 \uc815\ubcf4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-info-grid",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:["\ud0a4\uc6cc\ub4dc \ud480: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("strong",{children:[gameConfig.keywordPoolSize,"\uac1c"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:["\uc815\ub2f5 \uac1c\uc218: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("strong",{children:[gameConfig.answerCount,"\uac1c"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:["\ud78c\ud2b8 \uac1c\uc218: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("strong",{children:[gameConfig.hintCount,"\uac1c"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:["\ud134 \uc2dc\uac04: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("strong",{children:[gameConfig.timeLimit,"\ucd08"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:["\ucd5c\ub300 \ud134: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("strong",{children:gameConfig.maxTurns||"\ubb34\uc81c\ud55c"})]})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-start-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"countdown-info",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h3",{children:"\ubaa8\ub4e0 \uc900\ube44\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:"\uac8c\uc784\uc744 \uc2dc\uc791\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"setup-actions",style:{justifyContent:"flex-start"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn-large btn-secondary",onClick:()=>setCurrentScreen("game-config"),children:"\u2190 \uc124\uc815 \ubcc0\uacbd"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn-large btn-primary",onClick:startActualGame,children:"\uac8c\uc784 \uc2dc\uc791! \ud83c\udfae"})]})]})]})]})})},renderGameScreen=()=>{const e=getCurrentPlayer(),t=isGameOver();if(hintViewingPhase){var s;const e=players.find((e=>e.id===currentViewingPlayer)),t=gameState.hintsViewed[currentViewingPlayer];if("built-in-ai"===(null===e||void 0===e?void 0:e.type)){const e=currentViewingPlayer+1;return e<=players.length?setTimeout((()=>setCurrentViewingPlayer(e)),0):(setHintViewingPhase(!1),gameManagerRef.current?gameManagerRef.current.startGame(gameState.keywords,gameState.answers,gameState.playerHints):setTimeout((()=>{setGameState((e=>(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},e),{},{currentTurn:1}))),startTimer()}),100)),null}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"game-screen",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"hint-viewing-phase",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"exit-button-container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-exit-small",onClick:exitGame,children:"\uac8c\uc784 \uc885\ub8cc"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{children:"\ud78c\ud2b8 \ud655\uc778 \ub2e8\uacc4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"viewing-instructions",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("h3",{children:[null===e||void 0===e?void 0:e.nickname,"\ub2d8\uc758 \ucc28\ub840\uc785\ub2c8\ub2e4"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:"\ub2e4\ub978 \ud50c\ub808\uc774\uc5b4\ub294 \ud654\uba74\uc744 \ubcf4\uc9c0 \ub9c8\uc138\uc694!"}),t?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"hint-display",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:"\ub0b4 \ud78c\ud2b8 (\uc774 \ud0a4\uc6cc\ub4dc\ub4e4\uc740 \uc815\ub2f5\uc774 \uc544\ub2d9\ub2c8\ub2e4)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"hint-chips",children:null===(s=gameState.playerHints[currentViewingPlayer])||void 0===s?void 0:s.map((e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"hint-chip",children:gameState.keywords[e]},e)))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:"\ud78c\ud2b8\ub97c \uae30\uc5b5\ud558\uace0 \ub2e4\uc74c \ubc84\ud2bc\uc744 \ub20c\ub7ec\uc8fc\uc138\uc694."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn-large btn-secondary",onClick:()=>{const e=currentViewingPlayer+1;e<=players.length?setCurrentViewingPlayer(e):(setHintViewingPhase(!1),gameManagerRef.current?gameManagerRef.current.startGame(gameState.keywords,gameState.answers,gameState.playerHints):setTimeout((()=>{setGameState((e=>(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},e),{},{currentTurn:1}))),startTimer()}),100))},children:"\ud655\uc778 \uc644\ub8cc"})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"hint-reveal",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:"\uc544\ub798 \ubc84\ud2bc\uc744 \ub20c\ub7ec \ubcf8\uc778\ub9cc\uc758 \ud78c\ud2b8\ub97c \ud655\uc778\ud558\uc138\uc694."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn-large btn-primary",onClick:()=>setGameState((e=>(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},e),{},{hintsViewed:(0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_Rene_Documents_rene_project_asyncsite_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},e.hintsViewed),{},{[currentViewingPlayer]:!0})}))),children:"\ub0b4 \ud78c\ud2b8 \ubcf4\uae30"})]})]})]})})}var n;return t?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"game-screen",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-over",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{children:"\uac8c\uc784 \uc885\ub8cc!"}),gameState.winner?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"winner-announcement",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"victory-icon"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("h3",{children:[null===(n=players.find((e=>e.id===gameState.winner)))||void 0===n?void 0:n.nickname,"\ub2d8\uc774 \uc2b9\ub9ac\ud588\uc2b5\ub2c8\ub2e4!"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:"\ucd95\ud558\ud569\ub2c8\ub2e4! \uc815\ub2f5\uc744 \ubaa8\ub450 \ub9df\ucd94\uc168\uc2b5\ub2c8\ub2e4."})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"draw-announcement",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h3",{children:"\ubb34\uc2b9\ubd80"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:"\ucd5c\ub300 \ud134 \uc218\uc5d0 \ub3c4\ub2ec\ud588\uc2b5\ub2c8\ub2e4."})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"final-answers",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:"\uc815\ub2f5\uc740:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"answer-list",children:gameState.answers.map((e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"answer-chip",children:gameState.keywords[e]},e)))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-history",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:"\uac8c\uc784 \uae30\ub85d"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"history-list",children:gameState.turnHistory.map(((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"history-item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"turn-info",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("strong",{children:["\ud134 ",e.turnNumber]})," - ",e.playerName]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"turn-keywords",children:["\uc120\ud0dd: ",e.guessKeywords.join(", ")]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"turn-result",children:[e.correctCount,"/",gameConfig.answerCount," \uc815\ub2f5 (",e.timeUsed,"\ucd08 \uc18c\uc694)"]})]},t)))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"setup-actions",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn-large btn-secondary",onClick:()=>setCurrentScreen("mode-selection"),children:"\uc0c8 \uac8c\uc784"})})]})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-screen game-playing",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-header-info",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"turn-info",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("h3",{children:["\ud134 ",gameState.currentTurn,gameConfig.maxTurns&&" / ".concat(gameConfig.maxTurns)]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("p",{children:[null===e||void 0===e?void 0:e.nickname,"\uc758 \ucc28\ub840",isAIThinking&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"ai-thinking",children:["\uc0dd\uac01\ud558\ub294 \uc911",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"loading-dots"})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"header-controls",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"timer",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"time-display ".concat(timeRemaining<=10?"warning":""),children:[timeRemaining,"\ucd08"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"timer-bar",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"timer-fill",style:{width:"".concat(timeRemaining/gameConfig.timeLimit*100,"%"),backgroundColor:timeRemaining<=10?"#FF5722":timeRemaining<=30?"#FFC107":"#4CAF50"}})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-exit",onClick:exitGame,title:"\uac8c\uc784 \uc885\ub8cc",children:"\ub098\uac00\uae30"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-layout",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-main",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"keyword-selection",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("h4",{children:["\ud0a4\uc6cc\ub4dc\ub97c \uc120\ud0dd\ud558\uc138\uc694 (",selectedKeywords.length,"/",gameConfig.answerCount,")"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"keywords-grid",children:gameState.keywords.map(((e,t)=>{const s=selectedKeywords.includes(t),n=gameState.revealedAnswers.includes(t),_=gameState.revealedWrongAnswers.includes(t);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{className:"keyword-btn ".concat(s?"selected":""," ").concat(n?"revealed-answer":""," ").concat(_?"revealed-wrong":""),onClick:()=>toggleKeywordSelection(t),disabled:isSubmitting||isAIThinking||!isMyTurn,children:[e,n&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"reveal-indicator",children:"\u2713"}),_&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"reveal-indicator",children:"\u274c"})]},t)}))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"guess-controls",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"selected-display",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h5",{children:"\uc120\ud0dd\ub41c \ud0a4\uc6cc\ub4dc:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"selected-keywords",children:selectedKeywords.map((e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"selected-chip",children:gameState.keywords[e]},e)))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"control-buttons",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn-large btn-secondary",onClick:()=>setSelectedKeywords([]),disabled:0===selectedKeywords.length,children:"\uc120\ud0dd \ucd08\uae30\ud654"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn-large btn-primary",onClick:submitGuess,disabled:selectedKeywords.length!==gameConfig.answerCount||isSubmitting,children:"\ucd94\uce21 \uc81c\ucd9c"})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-sidebar",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"global-hints",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:"\uac8c\uc784 \ud78c\ud2b8"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"global-hints-toggle",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("label",{className:"toggle-label",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"checkbox",checked:globalHintsEnabled,onChange:handleGlobalHintsToggle,className:"toggle-checkbox"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"toggle-switch"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"toggle-text",children:["\uae00\ub85c\ubc8c \ud78c\ud2b8 ",globalHintsEnabled?"\ucf1c\uc9d0":"\uaebc\uc9d0"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("small",{className:"toggle-description",children:"\ubaa8\ub4e0 \uc120\ud0dd\uc774 \uc624\ub2f5\uc77c \uacbd\uc6b0 \uc790\ub3d9\uc73c\ub85c \uc624\ub2f5 \ud45c\uc2dc"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"hint-buttons",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-hint",onClick:revealAnswerHint,disabled:gameState.answers.length===gameState.revealedAnswers.length,children:"\uc815\ub2f5 1\uac1c \uacf5\uac1c"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-hint",onClick:revealWrongHint,children:"\uc624\ub2f5 1\uac1c \uacf5\uac1c"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"revealed-info",children:[gameState.revealedAnswers.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("small",{children:["\uacf5\uac1c\ub41c \uc815\ub2f5: ",gameState.revealedAnswers.length,"\uac1c"]})}),gameState.revealedWrongAnswers.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("small",{children:["\uacf5\uac1c\ub41c \uc624\ub2f5: ",gameState.revealedWrongAnswers.length,"\uac1c"]})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"players-status",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:"\ud50c\ub808\uc774\uc5b4 \ud604\ud669"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"players-list",children:players.map((t=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"player-status ".concat((null===e||void 0===e?void 0:e.id)===t.id?"current":""),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"player-name",children:t.nickname}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"player-type",children:["(","built-in-ai"===t.type?"AI":"custom-ai"===t.type?"Custom AI":"\uc778\uac04",")"]})]},t.id)))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"turn-history",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:"\ud134 \uae30\ub85d"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"history-scroll",children:gameState.turnHistory.slice(-5).map(((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"history-entry",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"history-header",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:["\ud134 ",e.turnNumber,": ",e.playerName]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"history-keywords",children:e.guessKeywords.join(", ")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"history-result",children:[e.correctCount,"/",gameConfig.answerCount," \uc815\ub2f5"]})]},t)))})]})]})]})]})},renderGuideModal=()=>{if(!isGuideModalOpen)return null;const e=[{title:"\uac8c\uc784 \ubaa9\ud45c: \uc228\uaca8\uc9c4 \ud0a4\uc6cc\ub4dc\ub97c \ucc3e\uc544\ub77c!",content:"\uc218\ub9ce\uc740 \ud0a4\uc6cc\ub4dc \ud480\uc5d0\uc11c \uc815\ub2f5\uc73c\ub85c \uc9c0\uc815\ub41c \uba87 \uac1c\uc758 \ud0a4\uc6cc\ub4dc\ub97c \uac00\uc7a5 \uba3c\uc800 \ucc3e\uc544\ub0b4\ub294 \ud50c\ub808\uc774\uc5b4\uac00 \uc2b9\ub9ac\ud569\ub2c8\ub2e4."},{title:"\ud575\uc2ec \uaddc\uce59: \ub2e8\uc11c\uc640 \ucd94\ub860",content:"\uac01 \ud50c\ub808\uc774\uc5b4\ub294 \uc790\uc2e0\ub9cc \uc544\ub294 '\ud78c\ud2b8(\uc815\ub2f5\uc774 \uc544\ub2cc \ud0a4\uc6cc\ub4dc)'\ub97c \ubc1b\uc2b5\ub2c8\ub2e4. \ub9e4 \ud134, \uc815\ub2f5\uc774\ub77c \uc0dd\uac01\ud558\ub294 \ud0a4\uc6cc\ub4dc\ub4e4\uc744 \ucd94\uce21\ud558\uba74, \uadf8\uc911\uc5d0 \uc9c4\uc9dc \uc815\ub2f5\uc774 '\uba87 \uac1c'\uc778\uc9c0 \uacb0\uacfc\ub9cc \uc54c\ub824\uc90d\ub2c8\ub2e4."},{title:"\uc2b9\ub9ac \uc870\uac74: \uc644\ubcbd\ud55c \ucd94\ub9ac",content:"\ubaa8\ub4e0 \uc815\ub2f5 \ud0a4\uc6cc\ub4dc\ub97c \uc815\ud655\ud788 \ub9de\ucd94\ub294 \ucd94\uce21\uc744 \uac00\uc7a5 \uba3c\uc800 \ud55c \ud50c\ub808\uc774\uc5b4\uac00 \uac8c\uc784\uc758 \uc2b9\uc790\uac00 \ub429\ub2c8\ub2e4. \uc81c\ud55c \uc2dc\uac04\uc774 \uc788\uc73c\ub2c8 \uc2e0\uc18d\ud558\uace0 \uc815\ud655\ud55c \ucd94\ub9ac\uac00 \ud544\uc694\ud569\ub2c8\ub2e4!"}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"modal-overlay",onClick:()=>setIsGuideModalOpen(!1),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"modal-content guide-modal",onClick:e=>e.stopPropagation(),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"modal-header",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h3",{children:"\uac8c\uc784 \uac00\uc774\ub4dc"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"modal-close",onClick:()=>setIsGuideModalOpen(!1),children:"\xd7"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"guide-slides-container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"guide-slide",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{children:e[guideSlideIndex].title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:e[guideSlideIndex].content})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"guide-controls",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:()=>{setGuideSlideIndex((t=>(t-1+e.length)%e.length))},children:"\uc774\uc804"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"slide-indicators",children:e.map(((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"indicator ".concat(guideSlideIndex===t?"active":"")},t)))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:()=>{setGuideSlideIndex((t=>(t+1)%e.length))},children:"\ub2e4\uc74c"})]})]})})},getThemeClass=()=>{if("mode-selection"===currentScreen||"difficulty-selection"===currentScreen)return"theme-intermediate";if("solo"!==gameMode)return"theme-custom";switch(soloDifficulty){case"easy":return"theme-beginner";case"medium":default:return"theme-intermediate";case"hard":return"theme-advanced"}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"deduction-game ".concat(getThemeClass()),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-content",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-wrapper",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"game-header",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h1",{children:"Exclusive Deduction Game"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:"\uc11c\ub85c \ub2e4\ub978 \ub2e8\uc11c\ub85c \uc815\ub2f5\uc744 \ucd94\ub860\ud558\ub294 \uac8c\uc784"})]}),"mode-selection"===currentScreen&&renderModeSelection(),"difficulty-selection"===currentScreen&&renderDifficultySelection(),"player-setup"===currentScreen&&renderPlayerSetup(),"game-config"===currentScreen&&renderGameConfig(),"game-preparation"===currentScreen&&renderGamePreparation(),"game"===currentScreen&&renderGameScreen()]}),renderCodeEditorModal(),renderGuideModal()]})})},__WEBPACK_DEFAULT_EXPORT__=DeductionGame},719:(e,t,s)=>{s.d(t,{C:()=>r});var n=s(555),_=s(331);class r{constructor(e){this.players=[],this.currentPlayerIndex=0,this.gameContext=void 0,this.config=void 0,this.isGameRunning=!1,this.turnTimer=void 0,this.turnStartTime=0,this.revealedHintsPerPlayer=new Map,this.lastHintRevealTurn=new Map,this.globalHintWrongAnswers=[],this.temporaryHiddenGlobalHints=[],this.onTurnStart=void 0,this.onTurnEnd=void 0,this.onGameEnd=void 0,this.onTimerTick=void 0,this.onAIThinking=void 0,this.config=e,this.gameContext={keywords:[],answers:[],playerHints:{},currentTurn:0,turnHistory:[],revealedAnswers:[],revealedWrongAnswers:[]}}addPlayer(e){if(this.isGameRunning)throw new Error("Cannot add players while game is running");this.players.push(e)}setPlayers(e){if(this.isGameRunning)throw new Error("Cannot set players while game is running");this.players=e}getCurrentPlayer(){return this.isGameRunning&&0!==this.players.length?this.players[this.currentPlayerIndex]:null}getPlayers(){return[...this.players]}getGameContext(){return(0,n.A)({},this.gameContext)}setGlobalHintsEnabled(e){this.config.globalHintsEnabled=e,console.log("[GameManager] Global hints ".concat(e?"enabled":"disabled")),e?this.temporaryHiddenGlobalHints.length>0&&(this.temporaryHiddenGlobalHints.forEach((e=>{this.gameContext.revealedWrongAnswers.includes(e)||this.gameContext.revealedWrongAnswers.push(e)})),console.log("[GameManager] Restored ".concat(this.temporaryHiddenGlobalHints.length," global hint wrong answers")),this.temporaryHiddenGlobalHints=[]):(this.temporaryHiddenGlobalHints=[...this.globalHintWrongAnswers],this.gameContext.revealedWrongAnswers=this.gameContext.revealedWrongAnswers.filter((e=>!this.globalHintWrongAnswers.includes(e))),console.log("[GameManager] Hiding ".concat(this.temporaryHiddenGlobalHints.length," global hint wrong answers")))}async startGame(e,t,s){if(0===this.players.length)throw new Error("No players added to the game");this.gameContext={keywords:e,answers:t,playerHints:s,currentTurn:1,turnHistory:[],revealedAnswers:[],revealedWrongAnswers:[]},this.currentPlayerIndex=0,this.isGameRunning=!0,this.revealedHintsPerPlayer.clear(),this.lastHintRevealTurn.clear(),this.globalHintWrongAnswers=[],this.temporaryHiddenGlobalHints=[],console.log("=== \uac8c\uc784 \uc124\uc815 ==="),console.log("\ud0a4\uc6cc\ub4dc \ud480: ".concat(this.config.keywordPoolSize,"\uac1c")),console.log("\uc815\ub2f5 \uac1c\uc218: ".concat(this.config.answerCount,"\uac1c")),console.log("\ud78c\ud2b8 \uac1c\uc218: ".concat(this.config.hintCount,"\uac1c")),console.log("\ud50c\ub808\uc774\uc5b4 \uc218: ".concat(this.players.length,"\uba85")),console.log("\uac8c\uc784 \ubcf5\uc7a1\ub3c4: ".concat(this.calculateGameComplexity().toFixed(2))),console.log("\uc608\uc0c1 \uac8c\uc784 \uae38\uc774: ".concat(this.calculateExpectedTurns(this.calculateGameComplexity()),"\ud134")),console.log("================"),await this.startNextTurn()}async startNextTurn(){var e;if(!this.isGameRunning)return;const t=this.getCurrentPlayer();if(t)if(this.turnStartTime=Date.now(),this.onTurnStart&&this.onTurnStart(t),null===(e=t.onTurnStart)||void 0===e||e.call(t),_.y.isHumanPlayer(t)){this.startTurnTimer();const e=this.createGameStateForAI(t);t.makeGuess(e).then((e=>{this.processTurn(e)}))}else{this.startTurnTimer(),this.onAIThinking&&this.onAIThinking(!0);const e=2e3*Math.random()+1500;await new Promise((t=>setTimeout(t,e)));const s=this.createGameStateForAI(t),n=await t.makeGuess(s);this.onAIThinking&&this.onAIThinking(!1),await this.processTurn(n)}}startTurnTimer(){let e=this.config.timeLimit;this.onTimerTick&&this.onTimerTick(e),this.turnTimer=setInterval((()=>{e--,this.onTimerTick&&this.onTimerTick(e),e<=0&&this.handleTimeout()}),1e3)}stopTurnTimer(){this.turnTimer&&(clearInterval(this.turnTimer),this.turnTimer=void 0)}handleTimeout(){this.stopTurnTimer();const e=this.getCurrentPlayer();if(!e)return;const t=[...Array.from({length:this.gameContext.keywords.length},((e,t)=>t)).filter((e=>!this.gameContext.revealedWrongAnswers.includes(e)))].sort((()=>Math.random()-.5)).slice(0,this.config.answerCount);_.y.isHumanPlayer(e)?e.submitGuess(t):this.processTurn(t)}async submitHumanGuess(e){const t=this.getCurrentPlayer();if(!t||!_.y.isHumanPlayer(t))throw new Error("Current player is not a human player");this.stopTurnTimer(),t.submitGuess(e)}async processTurn(e){var t;const s=this.getCurrentPlayer();if(!s)return;this.stopTurnTimer();const n=e.filter((e=>this.gameContext.answers.includes(e))).length,_=n===this.config.answerCount&&e.every((e=>this.gameContext.answers.includes(e))),r=Math.round((Date.now()-this.turnStartTime)/1e3),a={playerId:s.getInfo().id,playerName:s.getInfo().nickname,guess:[...e],guessKeywords:e.map((e=>this.gameContext.keywords[e])),correctCount:n,turnNumber:this.gameContext.currentTurn,timeUsed:r};this.gameContext.turnHistory.push(a),this.config.globalHintsEnabled&&0===n&&(console.log("[Global Hints] All guesses are wrong, revealing as wrong answers"),e.forEach((e=>{this.gameContext.revealedWrongAnswers.includes(e)||this.gameContext.revealedAnswers.includes(e)||this.globalHintWrongAnswers.includes(e)||(this.gameContext.revealedWrongAnswers.push(e),this.globalHintWrongAnswers.push(e))}))),null===(t=s.onTurnEnd)||void 0===t||t.call(s,{selectedIndices:e,timeUsed:a.timeUsed,timestamp:Date.now()}),this.onTurnEnd&&this.onTurnEnd(a),_?this.endGame(s):this.config.maxTurns&&this.gameContext.currentTurn>=this.config.maxTurns?this.endGame():(this.gameContext.currentTurn++,this.currentPlayerIndex=(this.currentPlayerIndex+1)%this.players.length,await this.startNextTurn())}createGameStateForAI(e){const t=e.getInfo(),s=this.gameContext.playerHints[t.id]||[],n=this.gameContext.turnHistory.map((e=>({playerId:e.playerId,guess:e.guess,correctCount:e.correctCount}))),_=this.getHintRevealSchedule(t),r=this.updateAndGetRevealedHints(t.id,_);return{keywords:[...this.gameContext.keywords],myHints:s,previousGuesses:n,revealedAnswers:[...this.gameContext.revealedAnswers],revealedWrongAnswers:[...this.gameContext.revealedWrongAnswers],answerCount:this.config.answerCount,currentTurn:this.gameContext.currentTurn,maxTurns:this.config.maxTurns,timeLimit:this.config.timeLimit,revealedOtherHints:r}}getHintRevealSchedule(e){if("built-in-ai"===e.type){const t=this.calculateGameComplexity(),s=this.calculateExpectedTurns(t),n={easy:{startRatio:.5,initialInterval:8,accelerationFactor:1.2},medium:{startRatio:.25,initialInterval:4,accelerationFactor:1.5},hard:{startRatio:.05,initialInterval:1,accelerationFactor:8}}[e.aiDifficulty||"medium"],_=Math.max(1,Math.floor(s*n.startRatio));return console.log("[".concat(e.aiDifficulty," AI] \uc608\uc0c1 \uac8c\uc784 \uae38\uc774: ").concat(s,"\ud134, \uc2dc\uc791: ").concat(_,"\ud134, \ucd08\uae30 \uac04\uaca9: ").concat(n.initialInterval,"\ud134")),{startTurn:_,initialInterval:n.initialInterval,accelerationFactor:n.accelerationFactor}}return{startTurn:1/0,initialInterval:1/0,accelerationFactor:1}}calculateGameComplexity(){return(this.config.keywordPoolSize-this.config.answerCount)/this.config.answerCount}calculateExpectedTurns(e){const t=Math.ceil(1.5*e+10);return this.config.maxTurns?Math.min(t,.8*this.config.maxTurns):t}updateAndGetRevealedHints(e,t){const s=this.gameContext.currentTurn;if(s<t.startTurn)return[];const n=this.lastHintRevealTurn.get(e)||t.startTurn-1,_=s-t.startTurn,r=Math.max(1,Math.floor(t.initialInterval/(1+_/(10/t.accelerationFactor))));let a=.15;t.accelerationFactor>=1.5&&t.accelerationFactor<8?a=.3:t.accelerationFactor>=8&&(a=1.5);const i=Math.max(1,Math.floor(_*a)),o=s>=n+r;let c=this.revealedHintsPerPlayer.get(e)||[];if(o){var l;const n=this.players.filter((t=>t.getInfo().id!==e)),r=[];for(const e of n){const t=e.getInfo().id,s=this.gameContext.playerHints[t]||[];c.find((e=>e.playerId===t))||r.push({playerId:t,hints:s})}let a=0;for(;a<i&&r.length>0;){var u;const t=Math.floor(Math.random()*r.length),n=r.splice(t,1)[0];c.push(n),a++;const _=null===(u=this.players.find((t=>t.getInfo().id===e)))||void 0===u?void 0:u.getInfo();_&&console.log("[\ud134 ".concat(s,"] ").concat(_.nickname,"\uc774(\uac00) \ud50c\ub808\uc774\uc5b4 ").concat(n.playerId,"\uc758 \ud78c\ud2b8 ").concat(n.hints.length,"\uac1c\ub97c \uc54c\uac8c \ub418\uc5c8\uc2b5\ub2c8\ub2e4."))}let o=.5;t.accelerationFactor>=3&&t.accelerationFactor<8?o=.4:t.accelerationFactor>=8&&(o=.1);const m=s/(this.config.maxTurns||30),E=t.accelerationFactor>=8,h=m>=.7,g=this.players.length-1;if((c.length>=g*o||E&&h)&&r.length>0){console.log("[\ud134 ".concat(s,"] ").concat(E&&h?"Hard AI \ud6c4\ubc18 \ubaa8\ub4dc -":"\uc784\uacc4\uc810 \ub3c4\ub2ec -"," \ub098\uba38\uc9c0 \ubaa8\ub4e0 \ud78c\ud2b8 \uacf5\uac1c"));for(const t of r){var d;c.push(t);const n=null===(d=this.players.find((t=>t.getInfo().id===e)))||void 0===d?void 0:d.getInfo();n&&console.log("[\ud134 ".concat(s,"] ").concat(n.nickname,"\uc774(\uac00) \ud50c\ub808\uc774\uc5b4 ").concat(t.playerId,"\uc758 \ud78c\ud2b8 ").concat(t.hints.length,"\uac1c\ub97c \ucd94\uac00\ub85c \uc54c\uac8c \ub418\uc5c8\uc2b5\ub2c8\ub2e4."))}}this.lastHintRevealTurn.set(e,s);const M=Math.max(1,Math.floor(t.initialInterval/(1+(_+1)/(10/t.accelerationFactor))));console.log("[".concat(null===(l=this.players.find((t=>t.getInfo().id===e)))||void 0===l?void 0:l.getInfo().nickname,"] \ub2e4\uc74c \ud78c\ud2b8 \uacf5\uac1c\uae4c\uc9c0: ").concat(M,"\ud134"))}return this.revealedHintsPerPlayer.set(e,c),[...c]}revealAnswer(){const e=this.gameContext.answers.filter((e=>!this.gameContext.revealedAnswers.includes(e)));if(0===e.length)return!1;const t=e[Math.floor(Math.random()*e.length)];return this.gameContext.revealedAnswers.push(t),!0}revealWrongAnswer(){const e=Array.from({length:this.gameContext.keywords.length},((e,t)=>t)).filter((e=>!this.gameContext.answers.includes(e)&&!this.gameContext.revealedWrongAnswers.includes(e)));if(0===e.length)return!1;const t=e[Math.floor(Math.random()*e.length)];return this.gameContext.revealedWrongAnswers.push(t),!0}endGame(e){this.stopTurnTimer(),this.isGameRunning=!1,this.onGameEnd&&this.onGameEnd(e)}stopGame(){this.stopTurnTimer(),this.isGameRunning=!1,this.players.forEach((e=>e.reset())),this.revealedHintsPerPlayer.clear(),this.lastHintRevealTurn.clear(),this.globalHintWrongAnswers=[],this.temporaryHiddenGlobalHints=[]}isRunning(){return this.isGameRunning}setEventHandlers(e){this.onTurnStart=e.onTurnStart,this.onTurnEnd=e.onTurnEnd,this.onGameEnd=e.onGameEnd,this.onTimerTick=e.onTimerTick,this.onAIThinking=e.onAIThinking}}},331:(e,t,s)=>{s.d(t,{y:()=>g});class n{constructor(e){this.playerInfo=void 0,this.ready=!1,this.playerInfo=e}getInfo(){return this.playerInfo}isReady(){return this.ready}onTurnStart(){}onTurnEnd(e){}reset(){this.ready=!1}}class _ extends n{constructor(e){super(e),this.resolveGuess=void 0,this.ready=!0}async makeGuess(e){return new Promise((e=>{this.resolveGuess=e}))}submitGuess(e){this.resolveGuess&&(this.resolveGuess(e),this.resolveGuess=void 0)}isWaitingForInput(){return void 0!==this.resolveGuess}reset(){super.reset(),this.resolveGuess=void 0,this.ready=!0}}class r extends n{constructor(e,t){super(e),this.strategy=void 0,this.thinkingTime=2e3,this.strategy=t,this.ready=!0}async makeGuess(e){const t=Date.now(),s=this.strategy.selectKeywords(e),n=Date.now()-t,_=Math.max(0,this.thinkingTime-n);return _>0&&await new Promise((e=>setTimeout(e,_))),s}setThinkingTime(e){this.thinkingTime=Math.max(500,e)}getStrategy(){return this.strategy}setStrategy(e){this.strategy=e}}var a=s(555),i=s(657);class o{constructor(){this.executionCounter=0,this.MAX_EXECUTION_TIME=2500}static getInstance(){return o.instance||(o.instance=new o),o.instance}async executeUserAI(e,t,s){const n=performance.now(),_=[];try{const s=i.AICodeValidator.validate(e);if(!s.isValid)return{success:!1,error:"Code validation failed: ".concat(s.errors.join("; ")),executionTime:performance.now()-n};s.warnings&&_.push(...s.warnings.map((e=>"Warning: ".concat(e))));const r=i.AICodeValidator.preprocessCode(e),a=this.createSecureGameState(t),o=await this.executeInWorker(r,a,_);return{success:!0,result:o,executionTime:performance.now()-n,logs:_.length>0?_:void 0}}catch(r){const e=performance.now()-n;return{success:!1,error:r.message||"Unknown error occurred",executionTime:e,logs:_.length>0?_:void 0}}}createSecureGameState(e){const t=e=>(Object.freeze(e),Object.getOwnPropertyNames(e).forEach((s=>{null===e[s]||"object"!==typeof e[s]&&"function"!==typeof e[s]||Object.isFrozen(e[s])||t(e[s])})),e);return t({keywords:[...e.keywords],myHints:[...e.myHints],answerCount:e.answerCount,previousGuesses:e.previousGuesses.map((e=>({playerId:e.playerId,guess:[...e.guess],correctCount:e.correctCount}))),revealedAnswers:[...e.revealedAnswers],revealedWrongAnswers:[...e.revealedWrongAnswers],currentTurn:e.currentTurn,timeLimit:e.timeLimit})}executeInWorker(e,t,s){return new Promise(((n,_)=>{const r="exec_".concat(++this.executionCounter,"_").concat(Date.now());let a="/web/ai-worker.js";window.location.pathname.startsWith("/web")&&!a.startsWith("/web")&&(a="/web/ai-worker.js");const i=new Worker(a),o=setTimeout((()=>{i.terminate(),_(new Error("Execution timeout exceeded (2 seconds)"))}),this.MAX_EXECUTION_TIME);i.onmessage=e=>{const{type:t,executionId:a,result:c,error:l,data:u}=e.data;if("log"!==t||a!==r)a===r&&(clearTimeout(o),i.terminate(),l?_(new Error(l)):c?n(c):_(new Error("No result returned from AI")));else{const e=u.map((e=>"object"===typeof e?JSON.stringify(e):String(e))).join(" ");s.push(e)}},i.onerror=e=>{clearTimeout(o),i.terminate();let t="Worker error: ";e.message?t+=e.message:t+="Failed to load worker file. Make sure ai-worker.js is in the public directory.",console.error("Worker load error:",e),console.error("Worker path attempted:",a),_(new Error(t))},i.postMessage({code:e,gameState:t,executionId:r})}))}static validateGuess(e,t){if(!Array.isArray(e))return"Guess must be an array";if(e.length!==t.answerCount)return"Guess must contain exactly ".concat(t.answerCount," elements");const s=t.keywords.length;for(let n=0;n<e.length;n++){const _=e[n];if("number"!==typeof _||!Number.isInteger(_))return"Element at index ".concat(n," must be an integer");if(_<0||_>=s)return"Element at index ".concat(n," (").concat(_,") is out of bounds");if(t.myHints.includes(_))return"Element at index ".concat(n," (").concat(_,") is one of your hints")}return new Set(e).size!==e.length?"Guess contains duplicate indices":null}}o.instance=void 0;class c{constructor(){this.metricsHistory=[],this.MAX_HISTORY_SIZE=1e3}static getInstance(){return c.instance||(c.instance=new c),c.instance}async measureExecution(e,t){const s=performance.now(),n=this.getMemoryUsage();try{const _=await e(),r=performance.now(),i=this.getMemoryUsage(),o={executionTime:r-s,memoryUsage:i&&n?i-n:void 0};return void 0!==(null===t||void 0===t?void 0:t.playerId)&&this.recordMetrics((0,a.A)((0,a.A)({},o),{},{timestamp:Date.now(),playerId:t.playerId,success:!0})),[_,o]}catch(_){const e=performance.now(),r=this.getMemoryUsage(),i={executionTime:e-s,memoryUsage:r&&n?r-n:void 0};throw void 0!==(null===t||void 0===t?void 0:t.playerId)&&this.recordMetrics((0,a.A)((0,a.A)({},i),{},{timestamp:Date.now(),playerId:t.playerId,success:!1,errorType:_.constructor.name})),{error:_,metrics:i}}}measureSync(e){const t=performance.now(),s=this.getMemoryUsage(),n=e(),_=performance.now(),r=this.getMemoryUsage();return[n,{executionTime:_-t,memoryUsage:r&&s?r-s:void 0}]}getMemoryUsage(){if("memory"in performance)return performance.memory.usedJSHeapSize}recordMetrics(e){this.metricsHistory.push(e),this.metricsHistory.length>this.MAX_HISTORY_SIZE&&(this.metricsHistory=this.metricsHistory.slice(-this.MAX_HISTORY_SIZE))}getPlayerStats(e){const t=this.metricsHistory.filter((t=>t.playerId===e));if(0===t.length)return{totalExecutions:0,successRate:0,averageExecutionTime:0,maxExecutionTime:0,recentErrors:[]};const s=t.filter((e=>e.success)),n=t.reduce(((e,t)=>e+t.executionTime),0),_=Math.max(...t.map((e=>e.executionTime))),r=t.filter((e=>!e.success&&e.errorType)).slice(-5).map((e=>e.errorType));return{totalExecutions:t.length,successRate:s.length/t.length,averageExecutionTime:n/t.length,maxExecutionTime:_,recentErrors:r}}getGlobalStats(){if(0===this.metricsHistory.length)return{totalExecutions:0,averageSuccessRate:0,averageExecutionTime:0,peakExecutionTime:0,activePlayerCount:0};const e=this.metricsHistory.filter((e=>e.success)),t=this.metricsHistory.reduce(((e,t)=>e+t.executionTime),0),s=Math.max(...this.metricsHistory.map((e=>e.executionTime))),n=new Set(this.metricsHistory.map((e=>e.playerId)));return{totalExecutions:this.metricsHistory.length,averageSuccessRate:e.length/this.metricsHistory.length,averageExecutionTime:t/this.metricsHistory.length,peakExecutionTime:s,activePlayerCount:n.size}}clearHistory(){this.metricsHistory=[]}}c.instance=void 0;class l{constructor(){this.executor=void 0,this.monitor=void 0,this.executor=o.getInstance(),this.monitor=c.getInstance()}static getInstance(){return l.instance||(l.instance=new l),l.instance}async executeWithFallback(e,t,s,n){try{const[_,r]=await this.monitor.measureExecution((()=>this.executor.executeUserAI(e,t,s)),{playerId:s});if(_.success&&_.result)return console.log("AI execution successful for player ".concat(s," (").concat(n,")"),{executionTime:_.executionTime,guess:_.result,logs:_.logs}),{playerId:s,playerName:n,guess:_.result,success:!0,executionTime:_.executionTime||0,logs:_.logs,metrics:r};throw new Error(_.error||"Unknown execution error")}catch(r){var _;console.error("AI execution failed for player ".concat(s," (").concat(n,"):"),r);const e=this.generateFallbackGuess(t),i=r.metrics?{error:(null===(_=r.error)||void 0===_?void 0:_.message)||"Unknown error",executionTime:r.metrics.executionTime}:{error:r.message||"Unknown error",executionTime:0};return(0,a.A)((0,a.A)({playerId:s,playerName:n,guess:e,success:!1},i),{},{metrics:r.metrics})}}generateFallbackGuess(e){const t=[];for(let n=0;n<e.keywords.length;n++)e.myHints.includes(n)||e.revealedWrongAnswers.includes(n)||t.push(n);const s=[...e.revealedAnswers];for(;s.length<e.answerCount&&t.length>0;){const e=Math.floor(Math.random()*t.length),n=t.splice(e,1)[0];s.includes(n)||s.push(n)}if(s.length<e.answerCount)for(let n=0;n<e.keywords.length&&s.length<e.answerCount;n++)e.myHints.includes(n)||s.includes(n)||s.push(n);return s.slice(0,e.answerCount)}getPlayerStats(e){return this.monitor.getPlayerStats(e)}getGlobalStats(){return this.monitor.getGlobalStats()}async validateCode(e){const{AICodeValidator:t}=await Promise.resolve().then(s.bind(s,657)),n=t.validate(e);return{valid:n.isValid,errors:n.errors.length>0?n.errors:void 0,warnings:n.warnings}}async testAICode(e,t){const s=t||this.createSampleGameState();try{return await this.executor.executeUserAI(e,s,-1)}catch(n){return{success:!1,error:n.message||"Test execution failed"}}}createSampleGameState(){return{keywords:["\uc0ac\uacfc","\ubc14\ub098\ub098","\uccb4\ub9ac","\ud3ec\ub3c4","\ub9dd\uace0","\ubcf5\uc22d\uc544","\ub538\uae30","\uc218\ubc15","\uba5c\ub860","\ud0a4\uc704"],myHints:[1,3],answerCount:3,previousGuesses:[{playerId:1,guess:[0,2,4],correctCount:2},{playerId:2,guess:[2,5,6],correctCount:1}],revealedAnswers:[],revealedWrongAnswers:[7],currentTurn:3,timeLimit:60}}}l.instance=void 0;class u extends n{constructor(e){super(e),this.aiCode=void 0,this.aiLanguage=void 0,this.executionHandler=void 0,this.aiCode=e.customCode||"",this.aiLanguage=e.customLanguage||"javascript",this.executionHandler=l.getInstance(),this.ready=this.validateCode()}async makeGuess(e){try{const t=await this.executionHandler.executeWithFallback(this.aiCode,e,this.playerInfo.id,this.playerInfo.nickname);return t.success||(console.error("Custom AI execution failed for ".concat(this.playerInfo.nickname,":"),t.error),t.logs&&t.logs.length>0&&console.log("AI logs for ".concat(this.playerInfo.nickname,":"),t.logs)),t.guess}catch(t){return console.error("Unexpected error in Custom AI execution:",t),this.fallbackStrategy(e)}}fallbackStrategy(e){const t=Array.from({length:e.keywords.length},((e,t)=>t)).filter((t=>!e.revealedWrongAnswers.includes(t))),s=[...e.revealedAnswers];for(;s.length<e.answerCount&&t.length>0;){const e=t.filter((e=>!s.includes(e)));if(0===e.length)break;const n=e[Math.floor(Math.random()*e.length)];s.push(n)}return s}validateCode(){if(!this.aiCode.trim())return!1;this.executionHandler.validateCode(this.aiCode);try{return new Function(this.aiCode),!0}catch(e){return console.error("AI code validation error:",e),!1}}async validateCodeAsync(){return await this.executionHandler.validateCode(this.aiCode)}updateCode(e,t){this.aiCode=e,this.aiLanguage=t,this.ready=this.validateCode()}getCode(){return this.aiCode}getLanguage(){return this.aiLanguage}}class d{constructor(){this.recentGuesses=new Set}selectKeywords(e){console.log("=== Easy AI \uc2e4\ud589 (\ubb34\uc791\uc704 \uc120\ud0dd) ==="),console.log("\ud134 ".concat(e.currentTurn,": \ud0a4\uc6cc\ub4dc ").concat(e.keywords.length,"\uac1c \uc911 \uc815\ub2f5 ").concat(e.answerCount,"\uac1c \ucc3e\uae30"));const t=new Set(e.revealedAnswers),s=new Set;e.myHints.forEach((e=>s.add(e))),e.revealedWrongAnswers.forEach((e=>s.add(e)));const n=[];for(let u=0;u<e.keywords.length;u++)s.has(u)||n.push(u);console.log("\uc120\ud0dd \uac00\ub2a5\ud55c \ud0a4\uc6cc\ub4dc: ".concat(n.length,"\uac1c"));const _=[],r=Array.from(t),a=Math.min(Math.floor(.7*e.answerCount),r.length),i=this.shuffle([...r]);for(let u=0;u<a&&_.length<e.answerCount;u++)_.push(i[u]);const o=n.filter((e=>!_.includes(e))),c=this.shuffle([...o]);for(let u=0;u<c.length&&_.length<e.answerCount;u++)_.push(c[u]);if(Math.random()<.1&&_.length===e.answerCount){const e=Math.floor(Math.random()*_.length),t=o.filter((e=>!_.includes(e)));t.length>0&&(_[e]=t[Math.floor(Math.random()*t.length)],console.log("Easy AI\uac00 \uc2e4\uc218\ub97c \ud588\uc2b5\ub2c8\ub2e4!"))}const l=[..._].sort(((e,t)=>e-t)).join(",");if(this.recentGuesses.has(l)&&o.length>=e.answerCount)return console.log("\ucd5c\uadfc\uc5d0 \uc2dc\ub3c4\ud55c \uc870\ud569\uc785\ub2c8\ub2e4. \ub2e4\uc2dc \uc11e\uc2b5\ub2c8\ub2e4."),this.selectKeywords(e);if(this.recentGuesses.add(l),this.recentGuesses.size>3){const e=this.recentGuesses.values().next().value;this.recentGuesses.delete(e)}return console.log("Easy AI \ucd5c\uc885 \uc120\ud0dd:",_.map((t=>e.keywords[t]))),_}shuffle(e){const t=[...e];for(let s=t.length-1;s>0;s--){const e=Math.floor(Math.random()*(s+1));[t[s],t[e]]=[t[e],t[s]]}return t}getStrategyName(){return"Easy AI"}getDescription(){return"AI\uac00 \ubb34\uc791\uc704\ub85c \ud0a4\uc6cc\ub4dc\ub97c \uc120\ud0dd\ud569\ub2c8\ub2e4. \uac00\ub054 \uc2e4\uc218\ub3c4 \ud569\ub2c8\ub2e4."}}class m{constructor(){this.previousExactGuesses=new Set}selectKeywords(e){console.log("=== \uc9c0\ub2a5\ud615 AI \uc2e4\ud589 ==="),console.log("\ud134 ".concat(e.currentTurn,": \ud0a4\uc6cc\ub4dc ").concat(e.keywords.length,"\uac1c \uc911 \uc815\ub2f5 ").concat(e.answerCount,"\uac1c \ucc3e\uae30"));const t=new Set(e.revealedAnswers),s=new Set;e.myHints.forEach((e=>s.add(e))),e.revealedWrongAnswers.forEach((e=>s.add(e))),e.revealedOtherHints&&e.revealedOtherHints.length>0&&e.revealedOtherHints.forEach((e=>{let{hints:t}=e;t.forEach((e=>s.add(e)))})),console.log("\ub0b4 \ud78c\ud2b8 (\uc624\ub2f5): ".concat(e.myHints.map((t=>e.keywords[t])))),console.log("\uacf5\uac1c\ub41c \uc624\ub2f5: ".concat(e.revealedWrongAnswers.map((t=>e.keywords[t])))),console.log("\uacf5\uac1c\ub41c \uc815\ub2f5: ".concat(e.revealedAnswers.map((t=>e.keywords[t])))),this.analyzeAllGuesses(e,t,s);const n=[];for(let i=0;i<e.keywords.length;i++)s.has(i)||n.push(i);if(console.log("\ud655\uc2e4\ud55c \uc815\ub2f5: ".concat(t.size,"\uac1c")),console.log("\ud655\uc2e4\ud55c \uc624\ub2f5: ".concat(s.size,"\uac1c")),console.log("\uc120\ud0dd \uac00\ub2a5\ud55c \ud0a4\uc6cc\ub4dc: ".concat(n.length,"\uac1c")),t.size>=e.answerCount)return console.log("\ubaa8\ub4e0 \uc815\ub2f5\uc744 \uc54c\uace0 \uc788\uc74c! \uac8c\uc784 \uc885\ub8cc!"),Array.from(t).slice(0,e.answerCount);const _=this.calculateScores(e,n,t,s);let r=this.buildFinalGuess(_,t,e.answerCount);r=this.preventDuplicateGuess(r,e,_);const a=[...r].sort(((e,t)=>e-t)).join(",");return this.previousExactGuesses.add(a),console.log("\ucd5c\uc885 \uc120\ud0dd:",r.map((t=>e.keywords[t]))),r}analyzeAllGuesses(e,t,s){e.previousGuesses.forEach((t=>{0===t.correctCount&&(t.guess.forEach((e=>{s.add(e)})),console.log("\uc815\ub2f5 0\uac1c \ucd94\uce21\uc5d0\uc11c \uc624\ub2f5 \ubc1c\uacac: ".concat(t.guess.map((t=>e.keywords[t])))))}));for(let n=0;n<e.previousGuesses.length-1;n++)for(let _=n+1;_<e.previousGuesses.length;_++)this.compareGuesses(e.previousGuesses[n],e.previousGuesses[_],t,s,e);e.previousGuesses.forEach((n=>{this.checkConstraints(n,t,s,e)}))}compareGuesses(e,t,s,n,_){const r=e.guess.filter((e=>!t.guess.includes(e))),a=t.guess.filter((t=>!e.guess.includes(t)));if(1===r.length&&1===a.length){const i=r[0],o=a[0];e.correctCount>t.correctCount?(s.has(i)||n.has(i)||(s.add(i),console.log("\ube44\uad50 \ubd84\uc11d: ".concat(_.keywords[i],"\ub294 \uc815\ub2f5!"))),n.has(o)||s.has(o)||(n.add(o),console.log("\ube44\uad50 \ubd84\uc11d: ".concat(_.keywords[o],"\ub294 \uc624\ub2f5!")))):t.correctCount>e.correctCount&&(s.has(o)||n.has(o)||(s.add(o),console.log("\ube44\uad50 \ubd84\uc11d: ".concat(_.keywords[o],"\ub294 \uc815\ub2f5!"))),n.has(i)||s.has(i)||(n.add(i),console.log("\ube44\uad50 \ubd84\uc11d: ".concat(_.keywords[i],"\uc740 \uc624\ub2f5!"))))}}checkConstraints(e,t,s,n){let _=0;const r=[];e.guess.forEach((e=>{t.has(e)?_++:s.has(e)?0:r.push(e)})),_===e.correctCount&&r.forEach((e=>{s.has(e)||(s.add(e),console.log("\uc81c\uc57d \uc870\uac74: ".concat(n.keywords[e],"\ub294 \uc624\ub2f5 (\uc774\ubbf8 \ucda9\ubd84\ud55c \uc815\ub2f5)")))})),_+r.length===e.correctCount&&r.length>0&&r.forEach((e=>{t.has(e)||(t.add(e),console.log("\uc81c\uc57d \uc870\uac74: ".concat(n.keywords[e],"\ub294 \uc815\ub2f5 (\ub098\uba38\uc9c0 \ubaa8\ub450 \uc815\ub2f5)")))}))}calculateScores(e,t,s,n){const _=new Map;s.forEach((e=>{_.set(e,1e3)})),t.forEach((t=>{if(!s.has(t)&&!n.has(t)){const r=this.calculateKeywordScore(t,e,s,n);_.set(t,r)}}));const r=Array.from(_.entries()).sort(((e,t)=>t[1]-e[1])).slice(0,10);return console.log("\uc0c1\uc704 10\uac1c \ud0a4\uc6cc\ub4dc \uc810\uc218:"),r.forEach((t=>{let[s,n]=t;console.log("  ".concat(e.keywords[s],": ").concat(n.toFixed(2),"\uc810"))})),_}calculateKeywordScore(e,t,s,n){let _=0,r=0;return t.previousGuesses.forEach((t=>{if(t.guess.includes(e)){_++;let e=0,a=0,i=0;t.guess.forEach((t=>{s.has(t)?e++:n.has(t)?a++:i++}));const o=Math.max(0,t.correctCount-e);if(i>0&&o>0){r+=o/i}}})),0===_?50:r/_*100}buildFinalGuess(e,t,s){const n=Array.from(e.entries()).sort(((e,t)=>t[1]-e[1])),_=[];for(const[r,a]of n){if(_.length>=s)break;_.push(r)}return _.length<s&&console.error("\uacbd\uace0: \uc120\ud0dd \uac00\ub2a5\ud55c \ud0a4\uc6cc\ub4dc\uac00 \ubd80\uc871\ud569\ub2c8\ub2e4!"),_}preventDuplicateGuess(e,t,s){const n=[...e].sort(((e,t)=>e-t)).join(","),_=new Set(this.previousExactGuesses);if(t.previousGuesses.forEach((e=>{const t=[...e.guess].sort(((e,t)=>e-t)).join(",");_.add(t)})),console.log("[\uc911\ubcf5 \uac80\uc0ac] \ud604\uc7ac \ucd94\uce21: ".concat(n)),console.log("[\uc911\ubcf5 \uac80\uc0ac] \uc774\uc804 \ucd94\uce21 \uc218: ".concat(_.size)),console.log("[\uc911\ubcf5 \uac80\uc0ac] \ub0b4 \uc774\uc804 \ucd94\uce21\ub4e4:",Array.from(this.previousExactGuesses)),console.log("[\uc911\ubcf5 \uac80\uc0ac] \uc804\uccb4 \uc774\uc804 \ucd94\uce21\ub4e4:",Array.from(_)),_.has(n)){console.log("\uacbd\uace0: \ub3d9\uc77c\ud55c \uc870\ud569 \uc7ac\uc2dc\ub3c4 \uac10\uc9c0! \uc0c8\ub85c\uc6b4 \uc870\ud569 \uc0dd\uc131 \uc911..."),console.log("[\uc911\ubcf5 \ubc1c\uacac] \ucd94\uce21 \ud0a4\uc6cc\ub4dc: ".concat(e.map((e=>t.keywords[e])).join(", ")));const r=t.previousGuesses.find((e=>[...e.guess].sort(((e,t)=>e-t)).join(",")===n));if(r)return console.log("[\uc911\ubcf5 \ubc1c\uacac] \uc774\uc804 \uacb0\uacfc: ".concat(r.correctCount,"/").concat(t.answerCount," (\ud50c\ub808\uc774\uc5b4 ").concat(r.playerId,")")),r.correctCount>0&&r.correctCount<t.answerCount?(console.log("[\uc911\ubcf5 \ud574\uacb0] \ubd80\ubd84 \uc815\ub2f5\uc774\ubbc0\ub85c \uccb4\uacc4\uc801 \ubcc0\ud615 \uc2dc\ub3c4"),this.generateSystematicVariation(e,r,t,s,_)):(console.log("[\uc911\ubcf5 \ud574\uacb0] \uc644\uc804\ud788 \uc0c8\ub85c\uc6b4 \uc870\ud569 \uc0dd\uc131"),this.generateNewCombination(e,t,s,_))}return e}generateSystematicVariation(e,t,s,n,_){console.log("\uc774\uc804 \uacb0\uacfc: ".concat(t.correctCount,"/").concat(s.answerCount," \uc815\ub2f5")),console.log("\uc774\uc804 \ucd94\uce21: ".concat(t.guess.map((e=>s.keywords[e])).join(", ")));const r=s.revealedAnswers,a=[...e].filter((e=>!r.includes(e))).sort(((e,t)=>(n.get(e)||0)-(n.get(t)||0))),i=Array.from(n.entries()).filter((t=>{let[s]=t;return!e.includes(s)})).sort(((e,t)=>t[1]-e[1])).map((e=>{let[t]=e;return t}));console.log("\uad50\uccb4 \uac00\ub2a5 \ud0a4\uc6cc\ub4dc: ".concat(a.length,"\uac1c")),console.log("\ub300\uccb4 \ud6c4\ubcf4: ".concat(i.length,"\uac1c"));const o=s.answerCount-t.correctCount,c=Math.min(o,a.length);console.log("".concat(c,"\uac1c \ud0a4\uc6cc\ub4dc \uad50\uccb4 \uc2dc\ub3c4"));for(let l=1;l<=c;l++){const t=a.slice(0,l),n=[...e];for(let e=0;e<t.length&&e<i.length;e++){const s=n.indexOf(t[e]);-1!==s&&(n[s]=i[e])}const r=[...n].sort(((e,t)=>e-t)).join(",");if(!_.has(r))return console.log("\uccb4\uacc4\uc801 \ubcc0\ud615 (".concat(l,"\uac1c \uad50\uccb4): ").concat(t.map((e=>s.keywords[e])).join(", ")," \u2192 ").concat(i.slice(0,l).map((e=>s.keywords[e])).join(", "))),n}return this.generateNewCombination(e,s,n,_)}generateNewCombination(e,t,s,n){const _=e.filter((e=>t.revealedAnswers.includes(e))),r=Array.from(s.entries()).filter((e=>{let[t]=e;return!_.includes(t)})).sort(((e,t)=>t[1]-e[1])),a=[..._],i=t.answerCount-a.length;let o=0;for(;o<10;){const e=[..._],s=[...r.slice(0,2*i)].sort((()=>Math.random()-.5));for(let t=0;t<i&&t<s.length;t++)e.push(s[t][0]);const a=[...e].sort(((e,t)=>e-t)).join(",");if(!n.has(a))return console.log("\uc0c8\ub85c\uc6b4 \uc870\ud569 \uc0dd\uc131 \uc131\uacf5"),console.log("\uc0c8 \uc870\ud569: ".concat(e.map((e=>t.keywords[e])).join(", "))),e;o++}return console.log("\uacbd\uace0: \uc0c8\ub85c\uc6b4 \uc870\ud569 \uc0dd\uc131 \uc2e4\ud328, \ucd5c\uc120\uc758 \uc120\ud0dd \ubc18\ud658"),e}}class E extends m{getStrategyName(){return"Medium AI"}getDescription(){return"\ub17c\ub9ac\uc801 \ucd94\ub860\uacfc \uc81c\uc57d \uc870\uac74 \ubd84\uc11d\uc744 \ud1b5\ud574 \uc815\ub2f5\uc744 \ucc3e\uc2b5\ub2c8\ub2e4. \uacf5\uac1c\ub41c \uc815\ubcf4\ub97c \uc801\uadf9\uc801\uc73c\ub85c \ud65c\uc6a9\ud569\ub2c8\ub2e4."}}class h extends m{selectKeywords(e){const t=super.selectKeywords(e);return this.advancedReasoning(e,t)}advancedReasoning(e,t){const{keywords:s,answerCount:n,previousGuesses:_,revealedAnswers:r}=e;if(r.length>=n)return t;const a=n-r.length;if(a<=3){console.log("[Hard AI] \ub9c8\uc9c0\ub9c9 ".concat(a,"\uac1c \uc815\ub2f5 \ucc3e\uae30 \ubaa8\ub4dc \ud65c\uc131\ud654"));const t=this.findOptimalCombination(e);if(t.length>0)return console.log("[Hard AI] \ucd5c\uc801 \uc870\ud569 \ubc1c\uacac!"),t}return this.refineWithSetAnalysis(e,t)}findOptimalCombination(e){const{keywords:t,answerCount:s,previousGuesses:n,revealedAnswers:_,revealedWrongAnswers:r,myHints:a,revealedOtherHints:i}=e,o=new Set([...r,...a]);i&&i.forEach((e=>{let{hints:t}=e;t.forEach((e=>o.add(e)))})),n.forEach((e=>{0===e.correctCount&&e.guess.forEach((e=>o.add(e)))}));const c=[];for(let u=0;u<t.length;u++)o.has(u)||_.includes(u)||c.push(u);const l=s-_.length;if(c.length<=15&&l<=3){console.log("[Hard AI] ".concat(c.length,"\uac1c \ud6c4\ubcf4\uc5d0\uc11c ").concat(l,"\uac1c \uc120\ud0dd \uc870\ud569 \uac80\uc99d"));const e=this.findValidCombinations(c,l,_,n);if(1===e.length)return console.log("[Hard AI] \uc720\uc77c\ud55c \uc815\ub2f5 \uc870\ud569 \ubc1c\uacac!"),[..._,...e[0]];if(e.length>1)return console.log("[Hard AI] ".concat(e.length,"\uac1c\uc758 \uac00\ub2a5\ud55c \uc870\ud569 \uc911 \ucd5c\uc801 \uc120\ud0dd")),[..._,...e[0]]}return[]}findValidCombinations(e,t,s,n){const _=[],r=(a,i)=>{if(i.length!==t)for(let t=a;t<e.length;t++)i.push(e[t]),r(t+1,i),i.pop();else{const e=[...s,...i];this.isValidHypothesis(e,n)&&_.push([...i])}};return r(0,[]),_}isValidHypothesis(e,t){const s=new Set(e);for(const n of t){if(n.guess.filter((e=>s.has(e))).length!==n.correctCount)return!1}return!0}refineWithSetAnalysis(e,t){const{previousGuesses:s,answerCount:n}=e,_=new Set,r=s.filter((e=>e.correctCount>=.6*n));if(r.length>=2){let e=[...new Set(r[0].guess)];for(let t=1;t<r.length;t++)e=e.filter((e=>r[t].guess.includes(e)));e.length>0&&e.length<=n&&(e.forEach((e=>_.add(e))),console.log("[Hard AI] \uad50\uc9d1\ud569 \ubd84\uc11d\uc73c\ub85c ".concat(e.length,"\uac1c \uc815\ub2f5 \ud6c4\ubcf4 \ubc1c\uacac")))}const a=[..._];for(const i of t){if(a.length>=n)break;a.includes(i)||a.push(i)}return a}getStrategyName(){return"Hard AI"}getDescription(){return"\uace0\uae09 \ucd94\ub860\uacfc \uc644\uc804 \ud0d0\uc0c9\uc744 \ud1b5\ud574 \ucd5c\uc801\uc758 \ub2f5\uc744 \ucc3e\uc2b5\ub2c8\ub2e4."}}class g{static createPlayer(e){switch(e.type){case"human":return new _(e);case"built-in-ai":const t=this.createStrategy(e.aiDifficulty||"medium");return new r(e,t);case"custom-ai":return new u(e);default:throw new Error("Unknown player type: ".concat(e.type))}}static createStrategy(e){switch(e){case"easy":return new d;case"medium":default:return new E;case"hard":return new h}}static createBuiltInAIOpponent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";const s={id:e,nickname:"AI (".concat("easy"===t?"\uc26c\uc6c0":"medium"===t?"\ubcf4\ud1b5":"\uc5b4\ub824\uc6c0",")"),type:"built-in-ai",aiDifficulty:t};return this.createPlayer(s)}static isHumanPlayer(e){return e instanceof _}static isBuiltInAIPlayer(e){return e instanceof r}static isCustomAIPlayer(e){return e instanceof u}}},657:(e,t,s)=>{s.d(t,{AICodeValidator:()=>n});class n{static validate(e){const t=[],s=[];e.length>this.MAX_CODE_LENGTH&&t.push("Code exceeds maximum length (".concat(e.length,"/").concat(this.MAX_CODE_LENGTH," characters)"));const n=e.split("\n");n.length>this.MAX_LINES&&t.push("Code exceeds maximum lines (".concat(n.length,"/").concat(this.MAX_LINES," lines)"));for(const{pattern:o,message:c}of this.FORBIDDEN_PATTERNS)o.test(e)&&t.push(c);try{new Function(e)}catch(i){t.push("Syntax error: ".concat(i.message))}e.includes("function makeGuess")||e.includes("makeGuess =")||t.push("makeGuess function not found");const _=[/while\s*\(\s*true\s*\)/g,/while\s*\(\s*1\s*\)/g,/for\s*\(\s*;\s*;\s*\)/g];for(const o of _)o.test(e)&&s.push("Potential infinite loop detected");const r=this.analyzeComplexity(e);r.complexity>100&&s.push("High code complexity detected (score: ".concat(r.complexity,")"));const a=[{pattern:/\bthis\b/g,message:'Use of "this" keyword may cause issues'},{pattern:/\barguments\b/g,message:'Use of "arguments" object is discouraged'},{pattern:/\.call\s*\(/g,message:"Use of .call() is suspicious"},{pattern:/\.apply\s*\(/g,message:"Use of .apply() is suspicious"},{pattern:/\.bind\s*\(/g,message:"Use of .bind() may affect performance"}];for(const{pattern:o,message:c}of a)o.test(e)&&s.push(c);return{isValid:0===t.length,errors:t,warnings:s.length>0?s:void 0}}static analyzeComplexity(e){const t=e.split("\n").length,s=(e.match(/\b(for|while|do)\b/g)||[]).length;return{lines:t,loops:s,functions:(e.match(/\bfunction\b/g)||[]).length,complexity:1+(e.match(/\b(if|else|switch|case)\b/g)||[]).length+s}}static preprocessCode(e){let t=e.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\/\/.*$/gm,"");return t=t.trim(),!t.includes("return makeGuess")&&t.includes("function makeGuess")&&(t+='\n\n// Auto-added by preprocessor\nif (typeof makeGuess === "function") { makeGuess; }'),t}}n.FORBIDDEN_PATTERNS=[{pattern:/eval\s*\(/g,message:"eval() is not allowed"},{pattern:/Function\s*\(/g,message:"Function constructor is not allowed"},{pattern:/setTimeout/g,message:"setTimeout is not allowed"},{pattern:/setInterval/g,message:"setInterval is not allowed"},{pattern:/setImmediate/g,message:"setImmediate is not allowed"},{pattern:/fetch\s*\(/g,message:"fetch() is not allowed"},{pattern:/XMLHttpRequest/g,message:"XMLHttpRequest is not allowed"},{pattern:/import\s+/g,message:"import statements are not allowed"},{pattern:/require\s*\(/g,message:"require() is not allowed"},{pattern:/process\./g,message:"process object is not allowed"},{pattern:/global\./g,message:"global object is not allowed"},{pattern:/window\./g,message:"window object is not allowed"},{pattern:/document\./g,message:"document object is not allowed"},{pattern:/self\./g,message:"self object is not allowed"},{pattern:/__proto__/g,message:"__proto__ is not allowed"},{pattern:/constructor\s*\[/g,message:"constructor property access is not allowed"},{pattern:/\.constructor/g,message:"constructor property is not allowed"},{pattern:/new\s+Worker/g,message:"Worker is not allowed"},{pattern:/postMessage/g,message:"postMessage is not allowed"},{pattern:/localStorage/g,message:"localStorage is not allowed"},{pattern:/sessionStorage/g,message:"sessionStorage is not allowed"},{pattern:/indexedDB/g,message:"indexedDB is not allowed"},{pattern:/crypto\./g,message:"crypto object is not allowed"},{pattern:/WebAssembly/g,message:"WebAssembly is not allowed"},{pattern:/SharedArrayBuffer/g,message:"SharedArrayBuffer is not allowed"},{pattern:/Atomics/g,message:"Atomics is not allowed"}],n.MAX_CODE_LENGTH=1e4,n.MAX_LINES=500,n.MAX_LOOP_DEPTH=5,n.MAX_FUNCTION_DEPTH=10},949:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var n=s(366),_=(s(934),s(579));const r=()=>(0,_.jsxs)("div",{className:"tetris-container",children:[(0,_.jsxs)("div",{className:"tetris-header",children:[(0,_.jsx)("h1",{children:"AI \ud14c\ud2b8\ub9ac\uc2a4"}),(0,_.jsx)("p",{className:"tetris-description",children:"AI\ub85c \uc2dc\uc791\ud55c \ud14c\ud2b8\ub9ac\uc2a4 \uac8c\uc784 \ub9cc\ub4e4\uae30 \ud504\ub85c\uc81d\ud2b8\uc785\ub2c8\ub2e4. \ud604\uc7ac \ubc84\uc804\uc5d0\uc11c\ub294 \uae30\ubcf8\uc801\uc778 \ud14c\ud2b8\ub9ac\uc2a4 \uac8c\uc784\ud50c\ub808\uc774\ub97c \uad6c\ud604\ud588\uc2b5\ub2c8\ub2e4."})]}),(0,_.jsx)("div",{className:"tetris-content",children:(0,_.jsx)("iframe",{src:"/web/lab/html/tetris.html",title:"AI Tetris Game",className:"tetris-frame",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(0,_.jsxs)("div",{className:"tetris-info",children:[(0,_.jsx)("h2",{children:"\ud504\ub85c\uc81d\ud2b8 \uc815\ubcf4"}),(0,_.jsxs)("div",{className:"info-grid",children:[(0,_.jsxs)("div",{className:"info-item",children:[(0,_.jsx)("h3",{children:"\uac1c\ubc1c \uae30\uac04"}),(0,_.jsx)("p",{children:"2024.06.11 ~ \ud604\uc7ac"})]}),(0,_.jsxs)("div",{className:"info-item",children:[(0,_.jsx)("h3",{children:"\uc0ac\uc6a9 \uae30\uc220"}),(0,_.jsx)("p",{children:"HTML, CSS, JavaScript"})]}),(0,_.jsxs)("div",{className:"info-item",children:[(0,_.jsx)("h3",{children:"\uc8fc\uc694 \uae30\ub2a5"}),(0,_.jsxs)("ul",{children:[(0,_.jsx)("li",{children:"\uae30\ubcf8 \ud14c\ud2b8\ub9ac\uc2a4 \uac8c\uc784\ud50c\ub808\uc774"}),(0,_.jsx)("li",{children:"\uc810\uc218 \uc2dc\uc2a4\ud15c"}),(0,_.jsx)("li",{children:"\ub808\ubca8 \uc2dc\uc2a4\ud15c"})]})]}),(0,_.jsxs)("div",{className:"info-item",children:[(0,_.jsx)("h3",{children:"\ud5a5\ud6c4 \uacc4\ud68d"}),(0,_.jsxs)("ul",{children:[(0,_.jsx)("li",{children:"AI \ud559\uc2b5 \ubaa8\ub378 \ud1b5\ud569"}),(0,_.jsx)("li",{children:"\uba40\ud2f0\ud50c\ub808\uc774\uc5b4 \uc9c0\uc6d0"}),(0,_.jsx)("li",{children:"\ucee4\uc2a4\ud140 \ud14c\ub9c8"})]})]})]})]})]});var a=s(930);const i=()=>{const{subject:e}=(0,n.g)();console.log(e);return(0,_.jsx)("div",{className:"lab-page",children:(0,_.jsx)("main",{className:"lab-content",children:(()=>{switch(e){case"tetris":return(0,_.jsx)(r,{});case"deduction-game":return(0,_.jsx)(a.A,{});default:return(0,_.jsx)("h1",{className:"lab-title",children:"\uc900\ube44\uc911..."})}})()})})}},275:()=>{},934:()=>{}}]);
//# sourceMappingURL=949.f11462f8.chunk.js.map